!function(){var a={225:function(){}},n={};function sa(e){var t=n[e];return void 0!==t||(t=n[e]={exports:{}},a[e](t,t.exports,sa)),t.exports}sa.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}();!function(){"use strict";sa(225);function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function V(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,function(e){e=function(e,t){if("object"!==i(e)||null===e)return e;var a=e[Symbol.toPrimitive];if(void 0===a)return("string"===t?String:Number)(e);a=a.call(e,t||"default");if("object"!==i(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}(e,"string");return"symbol"===i(e)?e:String(e)}(n.key),n)}}var d=function(){function t(){if(!(this instanceof t))throw new TypeError("Cannot call a class as a function");t.msg=t.msg||"Loading"}var e,a,n;return e=t,(a=[{key:"view",value:function(e){return m("div",{class:"absolute w-full mt-48 flex flex-col justify-center text-center items-center space-y-4 z-50"},m("div",{class:"text-lg text-gray-600"},t.msg||""),m("div",{class:"text-indigo-600"},m("svg",{xmlns:"http://www.w3.org/2000/svg",class:"w-16 h-16",stroke:"currentColor",fill:"none",viewBox:"0 0 57 57"},m("g",{transform:"translate(1 1)","stroke-width":"2",fill:"none","fill-rule":"evenodd"},m("circle",{cx:"5",cy:"50",r:"5"},m("animate",{attributeName:"cy",begin:"0s",dur:"2.2s",values:"50;5;50;50",calcMode:"linear",repeatCount:"indefinite"}),m("animate",{attributeName:"cx",begin:"0s",dur:"2.2s",values:"5;27;49;5",calcMode:"linear",repeatCount:"indefinite"})),m("circle",{cx:"27",cy:"5",r:"5"},m("animate",{attributeName:"cy",begin:"0s",dur:"2.2s",from:"5",to:"5",values:"5;50;50;5",calcMode:"linear",repeatCount:"indefinite"}),m("animate",{attributeName:"cx",begin:"0s",dur:"2.2s",from:"27",to:"27",values:"27;49;5;27",calcMode:"linear",repeatCount:"indefinite"})),m("circle",{cx:"49",cy:"50",r:"5"},m("animate",{attributeName:"cy",begin:"0s",dur:"2.2s",values:"50;50;5;50",calcMode:"linear",repeatCount:"indefinite"}),m("animate",{attributeName:"cx",from:"49",to:"49",begin:"0s",dur:"2.2s",values:"49;5;27;49",calcMode:"linear",repeatCount:"indefinite"}))))))}}])&&V(e.prototype,a),n&&V(e,n),Object.defineProperty(e,"prototype",{writable:!1}),t}();function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function I(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,q(n.key),n)}}function F(e,t,a){(t=q(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a}function q(e){e=function(e,t){if("object"!==n(e)||null===e)return e;var a=e[Symbol.toPrimitive];if(void 0===a)return("string"===t?String:Number)(e);a=a.call(e,t||"default");if("object"!==n(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}(e,"string");return"symbol"===n(e)?e:String(e)}var e=function(){function a(){if(!(this instanceof a))throw new TypeError("Cannot call a class as a function");F(this,"filters",{searchText:"",selectedCampaignType:"",selectedCampaignStatus:""}),F(this,"showLoader",!0),this.getCampaignsCount(1),this.getCampaigns(1)}var e,t,n;return e=a,n=[{key:"getNextCampaigns",value:function(e){return d.showLoader=!0,y.requestHandler({requestData:{method:"get_campaigns",handler:"campaigns",data:{exclude_types:["sequence_message","workflow_email"],order_by_column:"id",order:"DESC",current_page:e}},callback:function(e){e.success&&(a.data.campaigns=e.data.campaigns||[],a.data.current_page=e.data.current_page||[]),d.showLoader=!1}})}}],(t=[{key:"getCampaigns",value:function(e){var t=this;return y.requestHandler({requestData:{method:"get_campaigns",handler:"campaigns",data:{exclude_types:["sequence_message","workflow_email"],order_by_column:"id",order:"DESC",current_page:1}},callback:function(e){e.success&&(a.data.campaigns=e.data.campaigns||[]),t.showLoader=!1}})}},{key:"getCampaignsCount",value:function(e){return y.requestHandler({requestData:{method:"get_campaigns_count",handler:"campaigns",data:{current_page:e}},callback:function(e){e.success&&(a.data.campaign_data=e.data||[]),d.showLoader=!1}})}},{key:"deleteCampaigns",value:function(e,t){return y.requestHandler({requestData:{method:"delete_campaigns",handler:"campaigns",data:{campaign_ids:e}},callback:t})}},{key:"toggleStatus",value:function(e,t,a){return y.requestHandler({requestData:{method:"toggle_status",handler:"campaign",data:{campaign_ids:[e],new_status:t}},callback:a})}},{key:"duplicateCampaign",value:function(e,t){return y.requestHandler({requestData:{method:"duplicate_campaign",handler:"campaigns",data:{campaign_id:e}},callback:t})}},{key:"pauseCampaign",value:function(e,t,a){return y.requestHandler({requestData:{method:"pause_resume_campaign",handler:"starter_campaigns",data:{campaign_id:e,campaign_action:t}},callback:a})}}])&&I(e.prototype,t),n&&I(e,n),Object.defineProperty(e,"prototype",{writable:!1}),a}(),f=(F(e,"data",{campaigns:[]}),e);function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function R(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,B(n.key),n)}}function B(e){e=function(e,t){if("object"!==r(e)||null===e)return e;var a=e[Symbol.toPrimitive];if(void 0===a)return("string"===t?String:Number)(e);a=a.call(e,t||"default");if("object"!==r(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}(e,"string");return"symbol"===r(e)?e:String(e)}var l=function(){function t(){if(!(this instanceof t))throw new TypeError("Cannot call a class as a function");t.show=!1}var e,a,n;return e=t,(a=[{key:"view",value:function(e){return m("div",{class:"form-fields ig-es-popup-container"},m("div",{class:"ig-es-popup-overlay"}),m("div",{class:"ig-es-popup"},m("div",{class:"ig-es-popup-close-container"},m("button",{href:"#",onclick:function(e){e.preventDefault(),t.show=!1},class:"cross"},m("svg",{class:"h-5",width:"25",height:"25",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},m("path",{d:"M5.04366 4.17217L7.49984 6.62835L9.94329 4.1849C9.99726 4.12745 10.0623 4.08149 10.1344 4.04978C10.2066 4.01807 10.2844 4.00127 10.3633 4.00037C10.532 4.00037 10.6939 4.06741 10.8132 4.18674C10.9325 4.30607 10.9996 4.46792 10.9996 4.63668C11.0011 4.71469 10.9866 4.79219 10.957 4.86441C10.9275 4.93663 10.8835 5.00204 10.8278 5.05665L8.3525 7.5001L10.8278 9.97537C10.9326 10.078 10.9941 10.2169 10.9996 10.3635C10.9996 10.5323 10.9325 10.6941 10.8132 10.8135C10.6939 10.9328 10.532 10.9998 10.3633 10.9998C10.2822 11.0032 10.2013 10.9897 10.1257 10.9601C10.0501 10.9305 9.98147 10.8855 9.9242 10.828L7.49984 8.37185L5.05002 10.8217C4.99626 10.8772 4.93203 10.9215 4.86104 10.9521C4.79005 10.9827 4.71371 10.9989 4.63642 10.9998C4.46766 10.9998 4.30581 10.9328 4.18648 10.8135C4.06714 10.6941 4.0001 10.5323 4.0001 10.3635C3.99862 10.2855 4.01309 10.208 4.04264 10.1358C4.07218 10.0636 4.11617 9.99816 4.17191 9.94355L6.64718 7.5001L4.17191 5.02483C4.06703 4.92223 4.00554 4.7833 4.0001 4.63668C4.0001 4.46792 4.06714 4.30607 4.18648 4.18674C4.30581 4.06741 4.46766 4.00037 4.63642 4.00037C4.78913 4.00228 4.93549 4.064 5.04366 4.17217Z",fill:"#575362"})))),m("div",{class:"p-8"},m("div",{class:"mx-auto flex h-20 w-20 items-center justify-center rounded-full bg-green-100"},m("svg",{class:"h-12 w-12 text-green-600",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true"},m("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M4.5 12.75l6 6 9-13.5"}))),m("div",{class:"mt-3 text-center sm:mt-5"},m("h3",{class:"modal-headline",id:"modal-title"},t.message),m("div",{class:"mt-2"},m("p",{class:"text-sm text-gray-500"},"Success"))))))}}])&&R(e.prototype,a),n&&R(e,n),Object.defineProperty(e,"prototype",{writable:!1}),t}();function o(e){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Z(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,function(e){e=function(e,t){if("object"!==o(e)||null===e)return e;var a=e[Symbol.toPrimitive];if(void 0===a)return("string"===t?String:Number)(e);a=a.call(e,t||"default");if("object"!==o(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}(e,"string");return"symbol"===o(e)?e:String(e)}(n.key),n)}}e=l,a=void 0,(t=B(t="message"))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a;var g=function(){function r(e){if(!(this instanceof r))throw new TypeError("Cannot call a class as a function");r.initialize()}var e,t,a;return e=r,a=[{key:"initialize",value:function(){r.setCurrentCampaign(r.currentCampaignID),r.setRecipientRules()}},{key:"setCurrentCampaign",value:function(t){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},a={},a=0<t?f.data.campaigns.filter(function(e){return e.id==t})[0]:e;r.details={id:a.id||0,name:a.name||"",subject:a.subject||"",es_admin_email:a.es_admin_email||"",slug:a.slug||"",type:a.type||"",parent_id:a.parent_id||"",body:a.body||"",from_name:a.from_name||"",from_email:a.from_email||"",reply_to_name:a.reply_to_name||"",reply_to_email:a.reply_to_email||"",categories:a.categories||"",list_names:a.list_ids||"",base_template_id:a.base_template_id||"",status:a.status||0,created_at:a.created_at||"",updated_at:a.updated_at||"",meta:a.meta||{},formattedCategories:a.formatted_categories||{}}}},{key:"setRecipientRules",value:function(){var e=ig_es_main_js_data.recipient_rules,t={};Object.values(e).map(function(e){t=Object.assign(t,e)}),r.allRules=t,r.ruleGroup=[r.ruleRow={field:"list",operator:"is",value:"",group:"List"}]}},{key:"saveCamapign",value:function(){return r.formatCampaignDetail(),d.showLoader=!0,y.requestHandler({requestData:{method:"save",handler:"campaign",data:r.details},callback:function(e){d.showLoader=!1,e.success?(e.data.campaignId&&(r.details.id=e.data.campaign_id||0),l.message="Campaign Saved Succesfully!",l.show=!0):e.message?alert(e.message):alert(__("An error occured while processing the request","email-subscribers"))}})}},{key:"formatCampaignDetail",value:function(){var e;null!=(e=r.details)&&null!=(e=e.meta)&&e.list_conditions&&r.convertRecipientRules(),r.syncEditorData(),r.addAttachments()}},{key:"addAttachments",value:function(){var t=[];r.details.meta.attachments="",document.querySelectorAll('input[name="data[meta][attachments][]"]').forEach(function(e){e=e.value;t.push(e)}),r.details.meta.attachments=t}},{key:"convertRecipientRules",value:function(){r.details.meta.list_conditions=r.details.meta.list_conditions.map(function(e){return e=e.map(function(e){return"list"===e.field&&("is"===e.operator?e.field="_lists__in":(e.field="_lists__not_in",e.operator="is")),e})})}},{key:"syncEditorData",value:function(){r.usingDndEditor()?r.addDnDEditorData():r.addClassicEditorData()}},{key:"addDnDEditorData",value:function(){r.addDnDContentData(),y.isPostCampaign(r.details.type)&&r.addCategoryData()}},{key:"addDnDContentData",value:function(){var e=esVisualEditor.exportEditorContent();r.details.body=e.html,r.details.meta.dnd_editor_data=e.data}},{key:"addCategoryData",value:function(){if(r.usingDndEditor()){var s,c,u,m,e=esVisualEditor.getWrapper(),e=y.filterComponentsByType("es-posts",e);0<e.length&&(s=[],u=!(c=[]),m=[],e.forEach(function(e,t){var a=e.get("post-format");if(void 0===a||""===a)return!1;var a=e.get("post-category"),n=e.get("post-count"),t=((1<n||0<t)&&(u=!0),e.get("post-categories")),i=e.get("custom-post-types"),r=e.get("sorting-order"),l=e.get("custom-post-types-terms"),o="post:";o+="custom"===a?t.join(","):a,0<i.length&&i.forEach(function(e){o+="|"+e+":",l&&l.hasOwnProperty(e)&&0<l[e].length?o+=l[e].join(","):o+="all"}),c.push(o),s.push(n),m.push(r)}),r.details.categories="##"+c.join("##")+"##",void 0===r.details.meta.rules&&(r.details.meta.rules={}),r.details.meta.rules.no_of_posts=s,r.details.meta.rules.sorting_orders=m,r.details.type=u?ig_es_main_js_data.post_digest_campaign_type:ig_es_main_js_data.post_notification_campaign_type)}else{var t=[],a=r.details.formattedCategories;if(0<Object.keys(a).length){for(var n in a){var i="";a.hasOwnProperty(n)&&(i+=n+":",n=a[n],Array.isArray(n)&&(n=n.join(",")),t.push(i+=n))}r.details.categories="##"+t.join("|")+"##"}}}},{key:"findTypeBasedOnPostsComponents",value:function(){}},{key:"addClassicEditorData",value:function(){y.isPostCampaign(r.details.type)&&r.addCategoryData()}},{key:"usingDndEditor",value:function(){var e;return(null==(e=r.details)||null==(e=e.meta)?void 0:e.editor_type)&&r.details.meta.editor_type===ig_es_main_js_data.dnd_editor_slug}},{key:"getAdminEmail",value:function(){var e=document.getElementById("es_test_email").value;if(""===e)return alert("Please enter the valid email id"),!1;r.details.es_test_email=e}},{key:"sendCamapign",value:function(e){return d.showLoader=!0,r.formatCampaignDetail(),"schedule_now"==e.scheduling_option?e.status=ig_es_main_js_data.campaign_status_codes.finished:e.status=ig_es_main_js_data.campaign_status_codes.scheduled,y.requestHandler({requestData:{method:"save_and_schedule",handler:"campaign",data:e},callback:function(e){d.showLoader=!1,e.success?(l.message="Campaign Scheduled Succesfully!",l.show=!0):e.message?alert(e.message):alert(__("An error occured while processing the request","email-subscribers"))}})}},{key:"testCamapign",value:function(e){return d.msg=__("Sending email","email-subscribers"),d.showLoader=!0,r.formatCampaignDetail(),r.getAdminEmail(),y.requestHandler({requestData:{method:"send_test_email",handler:"campaign",data:e},callback:function(e){e.success,d.showLoader=!1,l.message="Email Sent Succesfully!",l.show=!0}})}},{key:"closeSpamScoreModal",value:function(){document.getElementById("spam_score_modal").style.display="none"}},{key:"appendSpamScore",value:function(e){if("success"===e.data.status){if(e.data.res&&void 0!==e.data.res.spamScoreData){var t=(t=e.data.res.spamScoreData.score)<0?0:t,a=document.querySelector(".es-spam-score");a.textContent=t;document.querySelector("#spam_score").textContent="Your Spam Score is : "+t;var n=document.querySelector(".es-spam-success"),i=document.querySelector(".es-spam-error"),r=document.querySelector(".es-spam-error-log");if(parseInt(t)<4)n.style.display="block",i.style.display="none",r.style.display="none",a.classList.add("es-spam-score-success","text-green-600"),a.classList.remove("es-spam-score-error");else{i.style.display="block",n.style.display="none",a.classList.add("es-spam-score-error","text-red-600"),a.classList.remove("es-spam-score-success"),r.style.display="block";for(var l,o=e.data.res.spamScoreData.rules,s=r.querySelector("ul"),c=(s.innerHTML="",document.getElementById("spam_score_modal")?"text-base pb-1 list-none text-center font-medium text-red-400":""),u=o.length-1;0<=u;u--)1.2<o[u].score&&((l=document.createElement("li")).className=c,l.textContent=o[u].description,s.appendChild(l))}document.getElementById("spam_score_modal").style.display="block";t=document.getElementById("spam_check");t&&(t.textContent="Recheck")}}else alert(e.data.res.error_message)}},{key:"getSpamScore",value:function(e){return d.showLoader=!0,r.formatCampaignDetail(),y.requestHandler({requestData:{method:"get_spam_score",handler:"campaign",data:e},callback:function(e){e.success&&e.data.res&&void 0!==e.data.status&&r.appendSpamScore(e),d.showLoader=!1}})}},{key:"getCampaign",value:function(t){var a=this;return y.requestHandler({requestData:{method:"get_campaigns",handler:"campaigns",data:{campaigns_in:[t]}},callback:function(e){e.success&&(f.data.campaigns=e.data.campaigns||[],a.setCurrentCampaign(t)),a.showLoader=!1}})}},{key:"saveAndPreview",value:function(e){return r.formatCampaignDetail(),y.requestHandler({requestData:{method:"save_and_preview",handler:"campaign",data:r.details},callback:e})}}],(t=null)&&Z(e.prototype,t),a&&Z(e,a),Object.defineProperty(e,"prototype",{writable:!1}),r}();function s(e){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function G(t,e){var a,n=Object.keys(t);return Object.getOwnPropertySymbols&&(a=Object.getOwnPropertySymbols(t),e&&(a=a.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,a)),n}function z(n){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?G(Object(i),!0).forEach(function(e){var t,a;t=n,a=i[e=e],(e=W(e))in t?Object.defineProperty(t,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[e]=a}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(i)):G(Object(i)).forEach(function(e){Object.defineProperty(n,e,Object.getOwnPropertyDescriptor(i,e))})}return n}function U(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,W(n.key),n)}}function W(e){e=function(e,t){if("object"!==s(e)||null===e)return e;var a=e[Symbol.toPrimitive];if(void 0===a)return("string"===t?String:Number)(e);a=a.call(e,t||"default");if("object"!==s(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}(e,"string");return"symbol"===s(e)?e:String(e)}var y=function(){function r(){if(!(this instanceof r))throw new TypeError("Cannot call a class as a function")}var e,t,a;return e=r,a=[{key:"requestHandler",value:function(t){var e=new FormData,a=z(z({},{security:ig_es_js_data.security}),t.requestData);r.appendNestedJSONToFormData(e,a),m.request({method:t.method||"POST",url:ajaxurl,params:{action:"icegram-express"},body:e,withCredentials:t.withCredentials||!1,responseType:t.responseType||"json"}).then(function(e){return t.hasOwnProperty("callback")&&t.callback(e),e})}},{key:"appendNestedJSONToFormData",value:function(e,t){var a,n,i=2<arguments.length&&void 0!==arguments[2]?arguments[2]:"";for(a in t)t.hasOwnProperty(a)&&(n=i?"".concat(i,"[").concat(a,"]"):a,"object"===s(t[a])?r.appendNestedJSONToFormData(e,t[a],n):e.append(n,t[a]))}},{key:"getAFWParams",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"",t=esDashboardParams||{};return""!==e?e in t?t[e]:"":t}},{key:"getCampaignDefaultSubject",value:function(e){return ig_es_main_js_data.campaigns_default_data[e].subject}},{key:"getCampaignDefaultContent",value:function(e){return ig_es_main_js_data.campaigns_default_data[e].content}},{key:"isPostCampaign",value:function(e){return[ig_es_main_js_data.post_notification_campaign_type,ig_es_main_js_data.post_digest_campaign_type].includes(e)}},{key:"filterCampaignWiseBlocks",value:function(e,t){return e=e.filter(function(e){e=e.get("campaignTypes");return void 0===e||e.includes(t)})}},{key:"isDnDEditor",value:function(e){return e===ig_es_main_js_data.dnd_editor_slug}},{key:"filterComponentsByType",value:function(t,e){var a=2<arguments.length&&void 0!==arguments[2]?arguments[2]:[];return e.get("type")===t&&a.push(e),e.has("components")&&e.get("components").each(function(e){r.filterComponentsByType(t,e,a)}),a}},{key:"isPro",value:function(){return"pro"===ig_es_main_js_data.es_plan}},{key:"getCampaignWiseTags",value:function(e){var t=[],e=(r.isPostCampaign(e)&&(t=ig_es_main_js_data.tags.campaign_tags.post_notification),ig_es_main_js_data.tags.subscriber_tags),a=ig_es_main_js_data.tags.site_tags;return t=t.concat(e).concat(a)}}],(t=null)&&U(e.prototype,t),a&&U(e,a),Object.defineProperty(e,"prototype",{writable:!1}),r}();function c(e){return(c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Q(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,X(n.key),n)}}function J(e,t,a){(t=X(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a}function X(e){e=function(e,t){if("object"!==c(e)||null===e)return e;var a=e[Symbol.toPrimitive];if(void 0===a)return("string"===t?String:Number)(e);a=a.call(e,t||"default");if("object"!==c(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}(e,"string");return"symbol"===c(e)?e:String(e)}var Y=function(){function e(){if(!(this instanceof e))throw new TypeError("Cannot call a class as a function");J(this,"filters",{searchText:"",selectedCampaignType:"",selectedCampaignStatus:""}),J(this,"showLoader",!0),this.data={kpis:{},campaigns:[]},this.getCampaignsAndStats()}var t,a,n;return t=e,(a=[{key:"getCampaignsAndStats",value:function(){var t=this;return y.requestHandler({requestData:{method:"get_kpis",handler:"campaigns",data:{days:30}},callback:function(e){e.success&&(t.data.kpis=e.data||{}),t.showLoader=!1}})}}])&&Q(t.prototype,a),n&&Q(t,n),Object.defineProperty(t,"prototype",{writable:!1}),e}(),K={view:function(){return m("svg",{width:"13",height:"8",viewBox:"0 0 13 8",fill:"none",xmlns:"http://www.w3.org/2000/svg"},m("path",{d:"M7.24984 1.08366H11.9165M11.9165 1.08366V5.75033M11.9165 1.08366L7.24984 5.75033L4.9165 3.41699L1.4165 6.91699",stroke:"#1D9E2A","stroke-width":"1.3125","stroke-linecap":"round","stroke-linejoin":"round"}))}},$={view:function(){return m("svg",{width:"13",height:"8",viewBox:"0 0 13 8",fill:"none",xmlns:"http://www.w3.org/2000/svg"},m("path",{d:"M6.91634 6.91634H11.583M11.583 6.91634V2.24967M11.583 6.91634L6.91634 2.24967L4.58301 4.58301L1.08301 1.08301",stroke:"#CA3131","stroke-width":"1.3125","stroke-linecap":"round","stroke-linejoin":"round"}))}},ee={view:function(e){e=e.attrs;return"up"===e.class?m(K,null):"down"===e.class?m($,null):void 0}},u={view:function(e){var e=e.attrs,t=e.badgeText,e=e.badgeClass;return m("div",{class:"change ".concat(e)},m("span",{class:"value"},t),m("span",null,m(ee,{class:e})))}};function p(e){return(p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function te(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,function(e){e=function(e,t){if("object"!==p(e)||null===e)return e;var a=e[Symbol.toPrimitive];if(void 0===a)return("string"===t?String:Number)(e);a=a.call(e,t||"default");if("object"!==p(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}(e,"string");return"symbol"===p(e)?e:String(e)}(n.key),n)}}var ae=function(){function t(e){if(!(this instanceof t))throw new TypeError("Cannot call a class as a function");this.initialize(e.attrs)}var e,a,n;return e=t,(a=[{key:"initialize",value:function(e){this.model=new Y(this.urlParams)}},{key:"view",value:function(){var e=null==(e=this.model.data)?void 0:e.kpis,t=null==e?void 0:e.total_message_sent,a=null==e?void 0:e.sent_percentage_growth,n=null==e?void 0:e.avg_open_rate,i=null==e?void 0:e.open_percentage_growth,r=null==e?void 0:e.avg_click_rate,l=null==e?void 0:e.click_percentage_growth,o=null==e?void 0:e.avg_unsubscribe_rate,s=null==e?void 0:e.unsubscribe_percentage_growth,c=null==e?void 0:e.avg_bounce_rate,e=null==e?void 0:e.hard_bounces_percentage_growth;return this.model.showLoader?m(d,null):(y.isPro()||(r=c=0),m("div",{class:"overview"},m("div",{class:"flex flex-row justify-between"},m("h2",null,"Overview"),m("p",{class:"text-gray-500"},"Compared to last 30 days")),m("div",{class:"flex flex-row w-full"},m("div",{class:"hidden lg:flex"},m("img",{width:"180",src:ig_es_main_js_data.image_path+"lite/admin/images/new/overview-snippet.png",alt:""})),m("div",{class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 w-full ml-0 lg:ml-5"},m("div",{class:"kpi"},m("div",{class:"stats"},m("span",{class:"kpi-title"},"Email Sent"),m("span",{class:"kpi-stats"},t||0)),a?m(u,{badgeText:a+"%",badgeClass:0<a?"up":"down"}):""),m("div",{class:"kpi"},m("div",{class:"stats"},m("span",{class:"kpi-title"},"Open Rate"),m("span",{class:"kpi-stats"},n,"%")),i?m(u,{badgeText:i+"%",badgeClass:0<i?"up":"down"}):""),m("div",{class:"kpi"},m("div",{class:"stats"},m("span",{class:"kpi-title"},"CTR",!y.isPro()&&m("a",{class:"ml-1",target:"_blank",href:"https://www.icegram.com/documentation/what-analytics-does-email-subscribers-track/?utm_source=in_app&utm_medium=dashboard-click-stat&utm_campaign=es_upsell"},m("span",{class:"premium-icon inline-block max"}))),m("span",{class:"kpi-stats"},r,"%")),l?m(u,{badgeText:l+"%",badgeClass:0<l?"up":"down"}):""),m("div",{class:"kpi"},m("div",{class:"stats"},m("span",{class:"kpi-title"},"Unsubscribe Rate"),m("span",{class:"kpi-stats"},o,"%")),s?m(u,{badgeText:s+"%",badgeClass:s<0?"up":"down"}):""),m("div",{class:"kpi"},m("div",{class:"stats"},m("span",{class:"kpi-title"},"Bounce Rate",!y.isPro()&&m("a",{class:"ml-1",target:"_blank",href:"https://www.icegram.com/docs/category/icegram-express-premium/handle-bounced-email-addresses/?utm_source=in_app&utm_medium=dashboard-bounce-stat&utm_campaign=es_upsell"},m("span",{class:"premium-icon inline-block max"}))),m("span",{class:"kpi-stats"},c,"%")),e?m(u,{badgeText:e+"%",badgeClass:e<0?"up":"down"}):"")))))}}])&&te(e.prototype,a),n&&te(e,n),Object.defineProperty(e,"prototype",{writable:!1}),t}();function v(e){return(v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ne(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,ie(n.key),n)}}function ie(e){e=function(e,t){if("object"!==v(e)||null===e)return e;var a=e[Symbol.toPrimitive];if(void 0===a)return("string"===t?String:Number)(e);a=a.call(e,t||"default");if("object"!==v(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}(e,"string");return"symbol"===v(e)?e:String(e)}var re=function(){function n(){var e,t,a;if(!(this instanceof n))throw new TypeError("Cannot call a class as a function");e=this,a=!(t="showActionDropdown"),(t=ie(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a}var e,t,a;return e=n,(t=[{key:"oninit",value:function(a){var n=this;a.state.handleAction=function(e,t){m.redraw(),a.attrs.onAction(e,t),n.showActionDropdown=!1}}},{key:"toggleActionsDropdown",value:function(){this.showActionDropdown=!this.showActionDropdown}},{key:"view",value:function(e){var a=this,t=e.attrs,n=(e.state,t.campaignId),e=t.actions;return m("div",{class:"text-right dropdown"},m("div",null,m("button",{type:"button",id:"menu-button",class:"px-2 secondary menu-button","aria-expanded":"false","aria-haspopup":"true",onclick:function(){return a.toggleActionsDropdown()}},m("svg",{width:"17",height:"17",viewBox:"0 0 17 17",fill:"none",xmlns:"http://www.w3.org/2000/svg"},m("path",{d:"M7.5 13.7001C7.5 13.1478 7.94772 12.7001 8.5 12.7001C9.05228 12.7001 9.5 13.1478 9.5 13.7001C9.5 14.2524 9.05228 14.7001 8.5 14.7001C7.94772 14.7001 7.5 14.2524 7.5 13.7001Z",fill:"#575362",stroke:"#575362","stroke-linecap":"round","stroke-linejoin":"round"}),m("path",{d:"M7.5 8.5C7.5 7.94772 7.94772 7.5 8.5 7.5C9.05228 7.5 9.5 7.94772 9.5 8.5C9.5 9.05228 9.05228 9.5 8.5 9.5C7.94772 9.5 7.5 9.05228 7.5 8.5Z",fill:"#575362",stroke:"#575362","stroke-linecap":"round","stroke-linejoin":"round"}),m("path",{d:"M7.5 3.30005C7.5 2.74776 7.94772 2.30005 8.5 2.30005C9.05228 2.30005 9.5 2.74776 9.5 3.30005C9.5 3.85233 9.05228 4.30005 8.5 4.30005C7.94772 4.30005 7.5 3.85233 7.5 3.30005Z",fill:"#575362",stroke:"#575362","stroke-linecap":"round","stroke-linejoin":"round"})))),m("div",{class:"".concat("absolute font-normal text-left dropdown-menu scale-95 z-50"," ").concat(this.showActionDropdown?"":"hidden opacity-0"),role:"menu","aria-orientation":"vertical","aria-labelledby":"menu-button",tabindex:"-1",id:"dropdown-menu"},e.map(function(t){return m("div",{role:"none"},m("a",{href:"#",role:"menuitem",tabindex:"-1",id:"menu-item-1",onclick:function(e){e.preventDefault(),a.handleAction(n,t)}},t.title))})))}}])&&ne(e.prototype,t),a&&ne(e,a),Object.defineProperty(e,"prototype",{writable:!1}),n}();function b(e){return(b="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function le(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,function(e){e=function(e,t){if("object"!==b(e)||null===e)return e;var a=e[Symbol.toPrimitive];if(void 0===a)return("string"===t?String:Number)(e);a=a.call(e,t||"default");if("object"!==b(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}(e,"string");return"symbol"===b(e)?e:String(e)}(n.key),n)}}var oe=function(){function e(){if(!(this instanceof e))throw new TypeError("Cannot call a class as a function")}var t,a,n;return t=e,(a=[{key:"view",value:function(e){var t,a,n=f.data.campaign_data[0],i=f.data.campaign_data[1],r=f.data.current_page;return(null==r||(r=parseInt(r,10),isNaN(r))||r<1)&&(r=1),t=null!=r&&r<i?r+1:i,a=null!=r&&1<r?r-1:1,m("div",{class:"tablenav-pages",style:"text-align: right"},m("span",{class:"displaying-num",style:"padding-right:25px"},r||1," Page of ",n," items"),m("span",{class:"pagination-links"},m("a",{class:"first-page button mr-2",href:"#",onclick:function(e){e.preventDefault(),f.getNextCampaigns(1)}},m("span",{class:"screen-reader-text"},"First page"),m("span",{"aria-hidden":"true"},"«")),m("a",{class:"prev-page button  mr-2",href:"#",onclick:function(e){e.preventDefault(),f.getNextCampaigns(a)}},m("span",{class:"screen-reader-text"},"Previous page"),m("span",{"aria-hidden":"true"},"‹")),m("a",{class:"prev-page button  mr-2",href:"#",onclick:function(e){e.preventDefault(),f.getNextCampaigns(r)}},r||1),m("a",{class:"next-page button  mr-2",href:"#",onclick:function(e){e.preventDefault(),f.getNextCampaigns(t)}},m("span",{class:"screen-reader-text"},"Next page"),m("span",{"aria-hidden":"true"},"›")),m("a",{class:"last-page button  mr-2",href:"#",onclick:function(e){e.preventDefault(),f.getNextCampaigns(i)}},m("span",{class:"screen-reader-text"},"Last page"),m("span",{"aria-hidden":"true"},"»"))))}}])&&le(t.prototype,a),n&&le(t,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();function h(e){return(h="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function se(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,ce(n.key),n)}}function _(e,t,a){(t=ce(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a}function ce(e){e=function(e,t){if("object"!==h(e)||null===e)return e;var a=e[Symbol.toPrimitive];if(void 0===a)return("string"===t?String:Number)(e);a=a.call(e,t||"default");if("object"!==h(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}(e,"string");return"symbol"===h(e)?e:String(e)}var ue=function(){function e(){var n=this;if(!(this instanceof e))throw new TypeError("Cannot call a class as a function");_(this,"handleCampaignAction",function(e,t){"editCampaign"===t.handler?n.editCampaign(e,t):"toggleStatus"===t.handler?n.toggleStatus(e,t):"deleteCampaign"===t.handler?n.mayDeleteCampaign(e):"viewReport"===t.handler?n.redirectToReportPage(e,t):"duplicateCampaign"===t.handler?n.duplicateCampaign(e):"pauseCampaign"===t.handler&&n.pauseCampaign(e,t)}),_(this,"toggleStatus",function(t,e){var a="1"===e.currentStatus?"0":"1";n.model.toggleStatus(t,a,function(e){e.success?f.data.campaigns=f.data.campaigns.map(function(e){return e.id===t&&(e.status=a,e.status_text="1"==a?__("Active","email-subscribers"):__("Draft","email-subscribers")),e}):alert(__("Failed to change campaign status.","email-subscribers"))})}),_(this,"mayDeleteCampaign",function(e){var t;confirm(__("Do you really want to delete this campaign?","email-subscribers"))&&0<(t=[e]).length&&(d.msg=__("Deleting campaign","email-subscribers"),d.showLoader=!0,n.model.deleteCampaigns(t,function(e){d.showLoader=!1,e.success?f.data.campaigns=f.data.campaigns.filter(function(e){return!t.includes(e.id)}):alert(ig_es_js_data.i18n_data.ajax_error_message)}))}),_(this,"redirectToReportPage",function(e,t){window.location.href=t.url}),_(this,"duplicateCampaign",function(e,t){n.model.duplicateCampaign(e,function(e){e.success?(e=e.data,f.data.campaigns.unshift(e)):alert(__("Failed to duplicate campaign. Please try again later.","email-subscribers"))})}),_(this,"pauseCampaign",function(t,e){var a="4"===e.status?"resume":"pause";n.model.pauseCampaign(t,a,function(e){e.success?f.data.campaigns=f.data.campaigns.map(function(e){return e.id===t&&(e.status="pause"==a?"4":"3",e.status_text="pause"==a?__("Paused","email-subscribers"):__("Sending","email-subscribers")),e}):alert(__("Failed to change campaign status.","email-subscribers"))})}),this.initialize()}var t,a,n;return t=e,(a=[{key:"initialize",value:function(){this.model=new f}},{key:"refreshCampaignModel",value:function(e){g.currentCampaignID=e,g.setCurrentCampaign(e)}},{key:"setSearchText",value:function(e){this.model.filters.searchText=e}},{key:"setSelectedCampaignType",value:function(e){this.model.filters.selectedCampaignType=e}},{key:"setSelectedCampaignStatus",value:function(e){this.model.filters.selectedCampaignStatus=e}},{key:"toggleCheckbox",value:function(t){document.querySelectorAll('.ig-es-list-table tbody input[type="checkbox"]').forEach(function(e){e.checked=t})}},{key:"redirectToEditUrl",value:function(e){var t=e.type,a=ig_es_main_js_data,n=a.newsletter_campaign_type,i=a.post_notification_campaign_type,r=a.post_digest_campaign_type,l=a.sequence_campaign_type,a=a.workflow_campaign_type;-1<[n,i,r].indexOf(t)?(this.refreshCampaignModel(e.id),m.route.set("/campaign/edit/:campaignId",{campaignId:e.id})):t===l?window.location.href="?page=es_sequence&action=edit&id="+e.id:t===a&&(window.location.href="?page=es_workflows&action=edit&id="+e.parent_id)}},{key:"mayDeleteCampaigns",value:function(){var t=[];document.querySelectorAll('.ig-es-list-table tbody input[type="checkbox"]').forEach(function(e){e.checked&&t.push(e.value)}),0===t.length?alert(__("Please select campaigns to delete.","email-subscribers")):confirm(__("Do you really want to delete selected campaigns?","email-subscribers"))&&(d.msg=__("Deleting campaigns","email-subscribers"),d.showLoader=!0,this.model.deleteCampaigns(t,function(e){d.showLoader=!1,e.success?(f.data.campaigns=f.data.campaigns.filter(function(e){return!t.includes(e.id)}),m.redraw()):alert(ig_es_js_data.i18n_data.ajax_error_message)}))}},{key:"editCampaign",value:function(e,t){this.redirectToEditUrl(t.campaign)}},{key:"view",value:function(e){var i,t,a,r,l,o,s,c,n,u,p=this;e.attrs;return this.model.showLoader?"":(i={post_notification:"notification.svg",newsletter:"broadcast.svg",post_digest:"notification.svg",sequence:"sequences.svg",workflow_email:"sequences.svg",workflow:"sequences.svg"},t=ig_es_main_js_data.campaign_types,a=ig_es_main_js_data.campaign_status_names,r=ig_es_main_js_data.campaign_status_codes,e=f.data.campaigns.filter(function(e){return 0<=e.name.toLowerCase().indexOf(p.model.filters.searchText.toLowerCase())}),""!=this.model.filters.selectedCampaignType&&(e=e.filter(function(e){return e.type===p.model.filters.selectedCampaignType})),""!=this.model.filters.selectedCampaignStatus&&(e=e.filter(function(e){return e.status===p.model.filters.selectedCampaignStatus})),l=ig_es_main_js_data.post_notification_campaign_type,o=ig_es_main_js_data.post_digest_campaign_type,s=ig_es_main_js_data.newsletter_campaign_type,c=ig_es_main_js_data.sequence_campaign_type,ig_es_main_js_data.workflow_campaign_type,u=f.data.campaign_data[0],n=f.data.campaign_data[3],u=!(null!==u&&u<=n),m("div",null,0==g.currentCampaignID?m("div",{class:"ig-es-list-table"},m("div",{class:"flex flex-col justify-start gap-4 md:gap-0 md:flex-row md:justify-between"},m("div",{class:"flex flex-row space-x-1"},m("h2",null,"Lists"),m("p",null,"(Showing ",e?e.length:0," entries)")),m("div",{class:"flex flex-row flex-wrap gap-5"},m("div",{class:"cta"},m("button",{href:"#",class:"cross",onclick:function(){return p.mayDeleteCampaigns()}},m("svg",{class:"h-5",width:"30",height:"30",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},m("path",{d:"M12.6071 3.03125H10.5844L9.7496 1.59033C9.51585 1.22412 9.15491 1 8.74241 1H6.25759C5.84509 1 5.46205 1.22412 5.25089 1.59033L4.41558 3.03125H2.39286C2.17494 3.03125 2 3.21229 2 3.4375V3.84375C2 4.06973 2.17494 4.25 2.39286 4.25H2.78571V12.375C2.78571 13.2726 3.48917 14 4.35714 14H10.6429C11.5108 14 12.2143 13.2726 12.2143 12.375V4.25H12.6071C12.8257 4.25 13 4.06973 13 3.84375V3.4375C13 3.21229 12.8257 3.03125 12.6071 3.03125ZM6.22076 2.29188C6.24531 2.24744 6.29442 2.21875 6.34598 2.21875H8.65402C8.70619 2.21875 8.7553 2.24731 8.77986 2.29175L9.20893 3.03125H5.79107L6.22076 2.29188ZM10.6429 12.7812H4.35714C4.14016 12.7812 3.96429 12.5994 3.96429 12.375V4.25H11.0357V12.375C11.0357 12.5984 10.8589 12.7812 10.6429 12.7812ZM7.5 11.5625C7.71715 11.5625 7.89286 11.3808 7.89286 11.1562V5.875C7.89286 5.65045 7.71715 5.46875 7.5 5.46875C7.28285 5.46875 7.10714 5.65156 7.10714 5.875V11.1562C7.10714 11.3797 7.28393 11.5625 7.5 11.5625ZM5.53571 11.5625C5.75179 11.5625 5.92857 11.3797 5.92857 11.1562V5.875C5.92857 5.65045 5.75287 5.46875 5.53571 5.46875C5.31856 5.46875 5.14286 5.65156 5.14286 5.875V11.1562C5.14286 11.3797 5.31964 11.5625 5.53571 11.5625ZM9.46429 11.5625C9.68144 11.5625 9.85714 11.3808 9.85714 11.1562V5.875C9.85714 5.65045 9.68144 5.46875 9.46429 5.46875C9.24713 5.46875 9.07143 5.65156 9.07143 5.875V11.1562C9.07143 11.3797 9.24821 11.5625 9.46429 11.5625Z",fill:"#575772"})))),m("div",null,m("div",{class:"relative"},m("div",{class:"search-icon"},m("svg",{class:"w-4 h-4 text-gray-500 dark:text-gray-400","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 20 20"},m("path",{stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"m19 19-4-4m0-7A7 7 0 1 1 1 8a7 7 0 0 1 14 0Z"}))),m("input",{type:"search",id:"default-search",class:"search",placeholder:"Search",oninput:function(e){p.setSearchText(e.target.value)}}))),m("div",null,m("select",{class:"w-32 text-sm",onchange:function(e){return p.setSelectedCampaignType(e.target.value)}},m("option",{value:""},"All Types"),Object.keys(t).map(function(e){return m("option",{value:e},t[e])}))),m("div",null,m("select",{class:"w-32 text-sm",onchange:function(e){return p.setSelectedCampaignStatus(e.target.value)}},m("option",{value:""},"All Status"),Object.keys(a).map(function(e){return m("option",{value:e},a[e])}))))),d.showLoader?m(d,null):null,m("div",{class:"overflow-x-auto"},m("div",{class:"table"},m("table",null,m("thead",{class:"bg-light-gray"},m("tr",null,m("th",{scope:"col"},m("input",{type:"checkbox",class:"checkbox",onchange:function(e){return p.toggleCheckbox(e.target.checked)}})),m("th",{scope:"col"},"NAME"),m("th",{scope:"col"},"CATEGORY"),m("th",{scope:"col"},"OPEN"),y.isPro()&&m("th",{scope:"col"},"CLICKS"),m("th",{scope:"col"},"STATUS"),m("th",{scope:"col"},"ACTIONS"))),m("tbody",null,e&&e.map(function(t){t.id;var e=t.type,a=([l,o].includes(e),t.status),n=[];return t.created_at=t.created_at.startsWith("<")?"":t.created_at,t.editUrl="",n=[{title:__("Edit","email-subscribers"),handler:"editCampaign",campaign:t},{title:__("Delete","email-subscribers"),handler:"deleteCampaign"}],e!==s&&n.push({title:"1"===a?__("Disable","email-subscribers"):__("Enable","email-subscribers"),handler:"toggleStatus",currentStatus:a}),t.report_link&&n.push({title:__("View report","email-subscribers"),handler:"viewReport",url:t.report_link}),"starter"!==ig_es_main_js_data.es_plan&&"pro"!==ig_es_main_js_data.es_plan||e!==s||"3"!==a&&"4"!==a||n.push({title:"3"===a?__("Pause","email-subscribers"):__("Resume","email-subscribers"),handler:"pauseCampaign",status:a}),"pro"!==ig_es_main_js_data.es_plan||e!==s&&e!==c||n.push({title:__("Duplicate","email-subscribers"),handler:"duplicateCampaign"}),m("tr",null,m("td",null,m("input",{type:"checkbox",class:"checkbox",value:t.id})),m("td",null,m("div",{class:"list-item"},m("div",{class:"avatar"},m("img",{src:ig_es_main_js_data.image_path+"lite/admin/images/new/"+i[t.type],alt:""})),m("div",{class:"item-details"},m("p",null,m("a",{href:"#",onclick:function(e){e.preventDefault(),p.redirectToEditUrl(t)}},t.name)),m("div",{class:"item-meta"},m("span",null,t.list_ids?"Lists: "+t.list_ids:""),m("span",null,t.created_at))))),m("td",null,t.categories||"-"),m("td",null,t.open_rate,"%"),y.isPro()&&m("td",null,t.click_rate,"%"),m("td",null,m("div",{class:"status"},t.status==r.draft?m("[",null,m("p",{class:"text-indigo-600"},m("span",{class:"bg-indigo-600 dot"}),t.status_text)):"",t.status==r.active?m("[",null,m("p",{class:"text-green-600"},m("span",{class:"bg-green-600 dot"}),t.status_text)):"",t.status==r.scheduled?m("[",null,m("p",{class:"text-red-600"},m("span",{class:"bg-red-600 dot"}),t.status_text),m("span",{class:"sub-text",title:__("Campaign scheduled at","email-subscribers")},t.start_at)):"",t.status==r.queued?m("[",null,m("p",{class:"text-blue-600"},m("span",{class:"bg-blue-600 dot"}),t.status_text),m("span",{class:"sub-text",title:__("Campaign scheduled at","email-subscribers")},t.start_at)):"",t.status==r.paused?m("[",null,m("p",{class:"text-gray-400"},m("span",{class:"bg-gray-400 dot"}),t.status_text),m("span",{class:"sub-text",title:__("Campaign scheduled at","email-subscribers")},t.start_at)):"",t.status==r.finished?m("[",null,m("p",{class:"text-green-600"},m("span",{class:"bg-green-600 dot"}),t.status_text),m("span",{class:"sub-text",title:__("Campaign scheduled at","email-subscribers")},t.start_at)):"")),m("td",null,m("div",{class:""},m(re,{campaignId:t.id,actions:n,onAction:p.handleCampaignAction}))))}),this.model.showLoader||0!==e.length?"":m("tr",null,m("td",{colspan:"7"},__("No campaigns found","email-subscribers"))),this.model.showLoader?__("Loading campaigns","email-subscribers"):"")))),u?m(oe,null):""):""))}}])&&se(t.prototype,a),n&&se(t,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();function w(e){return(w="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function me(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,pe(n.key),n)}}function pe(e){e=function(e,t){if("object"!==w(e)||null===e)return e;var a=e[Symbol.toPrimitive];if(void 0===a)return("string"===t?String:Number)(e);a=a.call(e,t||"default");if("object"!==w(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}(e,"string");return"symbol"===w(e)?e:String(e)}g.currentCampaignID=0;var k=function(){function t(){if(!(this instanceof t))throw new TypeError("Cannot call a class as a function")}var e,a,n;return e=t,n=[{key:"loadItems",value:function(){return d.showLoader=!0,y.requestHandler({requestData:{handler:"gallery",method:"get_gallery_items"},callback:function(e){e.success&&(t.items=e.data.items),d.showLoader=!1}})}},{key:"loadTemplatePreviewData",value:function(e,t,a){return d.showLoader=!0,y.requestHandler({requestData:{handler:"gallery",method:"preview_template",data:{gallery_type:t,template_id:e}},callback:a})}},{key:"deleteTemplate",value:function(e,t){return y.requestHandler({requestData:{handler:"gallery",method:"delete_template",data:{template_id:e}},callback:t})}}],(a=null)&&me(e.prototype,a),n&&me(e,n),Object.defineProperty(e,"prototype",{writable:!1}),t}();function C(e){return(C="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function de(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,function(e){e=function(e,t){if("object"!==C(e)||null===e)return e;var a=e[Symbol.toPrimitive];if(void 0===a)return("string"===t?String:Number)(e);a=a.call(e,t||"default");if("object"!==C(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}(e,"string");return"symbol"===C(e)?e:String(e)}(n.key),n)}}e=k,t=[],(a=pe(a="items"))in e?Object.defineProperty(e,a,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[a]=t;var fe=function(){function e(){if(!(this instanceof e))throw new TypeError("Cannot call a class as a function")}var t,a,n;return t=e,(a=[{key:"view",value:function(e){var a=e.attrs.item,t=e.attrs.campaignType,n=a.gallery_type,e=a.es_plan,i=a.template_version,e=canUpsellESTemplate(e,i),r=P.manageTemplates,l=!r&&!e,o=r&&"local"===n,r=r&&"remote"===n&&!e;return m("div",{class:"ig-es-card"},m("div",{class:"card-head"},m("div",{class:"group"},a.thumbnail?m("img",{src:a.thumbnail,alt:"{item.title}"}):m("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-40 w-full mb-8 ",fill:"none",viewBox:"0 0 24 24",stroke:"#d2d6dc"},m("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"1",d:"M3 19v-8.93a2 2 0 01.89-1.664l7-4.666a2 2 0 012.22 0l7 4.666A2 2 0 0121 10.07V19M3 19a2 2 0 002 2h14a2 2 0 002-2M3 19l6.75-4.5M21 19l-6.75-4.5M3 10l6.75 4.5M21 10l-6.75 4.5m0 0l-1.14.76a2 2 0 01-2.22 0l-1.14-.76"})),m("div",{class:"hidden group-hover:flex group-hover:absolute w-full h-full top-0 right-3 flex-col items-center justify-start pt-6 space-y-8 cursor-pointer bg-gray-700/50"},m("div",{class:"flex justify-end w-full px-5"},o&&m("button",{href:"#",onclick:function(e){e.preventDefault(),P.deleteGalleryTemplate(a.ID)},class:"cross white text-end"},m("svg",{class:"h-5",width:"30",height:"30",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},m("path",{d:"M12.6071 3.03125H10.5844L9.7496 1.59033C9.51585 1.22412 9.15491 1 8.74241 1H6.25759C5.84509 1 5.46205 1.22412 5.25089 1.59033L4.41558 3.03125H2.39286C2.17494 3.03125 2 3.21229 2 3.4375V3.84375C2 4.06973 2.17494 4.25 2.39286 4.25H2.78571V12.375C2.78571 13.2726 3.48917 14 4.35714 14H10.6429C11.5108 14 12.2143 13.2726 12.2143 12.375V4.25H12.6071C12.8257 4.25 13 4.06973 13 3.84375V3.4375C13 3.21229 12.8257 3.03125 12.6071 3.03125ZM6.22076 2.29188C6.24531 2.24744 6.29442 2.21875 6.34598 2.21875H8.65402C8.70619 2.21875 8.7553 2.24731 8.77986 2.29175L9.20893 3.03125H5.79107L6.22076 2.29188ZM10.6429 12.7812H4.35714C4.14016 12.7812 3.96429 12.5994 3.96429 12.375V4.25H11.0357V12.375C11.0357 12.5984 10.8589 12.7812 10.6429 12.7812ZM7.5 11.5625C7.71715 11.5625 7.89286 11.3808 7.89286 11.1562V5.875C7.89286 5.65045 7.71715 5.46875 7.5 5.46875C7.28285 5.46875 7.10714 5.65156 7.10714 5.875V11.1562C7.10714 11.3797 7.28393 11.5625 7.5 11.5625ZM5.53571 11.5625C5.75179 11.5625 5.92857 11.3797 5.92857 11.1562V5.875C5.92857 5.65045 5.75287 5.46875 5.53571 5.46875C5.31856 5.46875 5.14286 5.65156 5.14286 5.875V11.1562C5.14286 11.3797 5.31964 11.5625 5.53571 11.5625ZM9.46429 11.5625C9.68144 11.5625 9.85714 11.3808 9.85714 11.1562V5.875C9.85714 5.65045 9.68144 5.46875 9.46429 5.46875C9.24713 5.46875 9.07143 5.65156 9.07143 5.875V11.1562C9.07143 11.3797 9.24821 11.5625 9.46429 11.5625Z",fill:"#575772"}))),r&&m("button",{onclick:function(e){location.href="?action=ig_es_import_remote_gallery_template&template-id="+a.ID+"&_wpnonce="+ig_es_js_data.security},class:"font-semibold text-base text-indigo-500 inline-flex items-center md:mb-2 lg:mb-0",title:__("Import this template","email-subscribers")},m("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"w-4 h-4"},m("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M3 16.5v2.25A2.25 2.25 0 005.25 21h13.5A2.25 2.25 0 0021 18.75V16.5M16.5 12L12 16.5m0 0L7.5 12m4.5 4.5V3"})))),m("div",{class:"flex flex-col space-y-3"},m("button",{onclick:function(){return P.showPreview(a,t,n)},class:"white"},"Preview"),l&&m("button",{onclick:function(){return location.href="?action=ig_es_import_gallery_item&template-id="+a.ID+"&campaign-type="+t+"&gallery-type="+n+"&_wpnonce="+ig_es_js_data.security},class:"outline"},"Use This"),o&&m("button",{onclick:function(){m.route.set("/template/edit/"+a.ID)},class:"outline"},"Edit This"))))),m("div",{class:"card-desc"},m("div",{class:"title"},m("div",null,m("h2",null,a.title)),o&&m("div",{class:"saved"},m("div",{class:"relative flex flex-row-reverse items-center group"},m("button",{onclick:function(){return location.href="?action=ig_es_duplicate_template&template-id="+a.ID+"&_wpnonce="+ig_es_js_data.security}},m("svg",{width:"11",height:"13",viewBox:"0 0 11 13",fill:"none",xmlns:"http://www.w3.org/2000/svg"},m("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M0.400391 0.609805C0.400391 0.272989 0.670663 0 1.00404 0H9.79675C10.1301 0 10.4004 0.272989 10.4004 0.609805V12.3902C10.4004 12.6141 10.2789 12.8201 10.0839 12.9266C9.8889 13.0331 9.65179 13.0231 9.46627 12.9005L5.40039 10.2134L1.33451 12.9005C1.14903 13.0231 0.91192 13.0331 0.716902 12.9266C0.521924 12.8201 0.400391 12.6141 0.400391 12.3902V0.609805ZM1.60768 1.21961V11.2625L5.06991 8.97442C5.27065 8.84173 5.53013 8.84173 5.73087 8.97442L9.1931 11.2625V1.21961H1.60768Z",fill:"#5E19CF"}))),m("div",{class:"absolute top-0 right-4 flex flex-row-reverse items-center hidden mb-6 group-hover:flex"},m("div",{class:"relative w-2 h-2 rotate-45 -left-1 bg-neutral-950"}),m("span",{class:"relative w-11 z-10 p-2 text-xs font-medium justify-center leading-none text-white bg-neutral-950 shadow-lg rounded-sm"},"Duplicate")))),r&&m("div",{class:"save"},m("div",{class:"relative flex flex-row-reverse items-center group"},m("button",{onclick:function(){return location.href="?action=ig_es_import_remote_gallery_template&template-id="+a.ID+"&_wpnonce="+ig_es_js_data.security}},m("svg",{width:"11",height:"13",viewBox:"0 0 11 13",fill:"none",xmlns:"http://www.w3.org/2000/svg"},m("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M0.400391 0.609805C0.400391 0.272989 0.670663 0 1.00404 0H9.79675C10.1301 0 10.4004 0.272989 10.4004 0.609805V12.3902C10.4004 12.6141 10.2789 12.8201 10.0839 12.9266C9.8889 13.0331 9.65179 13.0231 9.46627 12.9005L5.40039 10.2134L1.33451 12.9005C1.14903 13.0231 0.91192 13.0331 0.716902 12.9266C0.521924 12.8201 0.400391 12.6141 0.400391 12.3902V0.609805ZM1.60768 1.21961V11.2625L5.06991 8.97442C5.27065 8.84173 5.53013 8.84173 5.73087 8.97442L9.1931 11.2625V1.21961H1.60768Z",fill:"#5E19CF"}))),m("div",{class:"absolute top-0 right-4 flex flex-row-reverse items-center hidden mb-6 group-hover:flex"},m("div",{class:"relative w-2 h-2 rotate-45 -left-1 bg-neutral-950"}),m("span",{class:"relative w-11 z-10 p-2 text-xs font-medium justify-center leading-none text-white bg-neutral-950 shadow-lg rounded-sm"},"Import"))))),m("ul",{class:"meta-tags"},a.categories.map(function(e,t){t=a.categories[t].replace(/_/g," ");return"1.0.0"==i&&("starter"===t?t="pro":"pro"===t&&(t="max")),m("li",{class:"text-purple-500 bg-purple-500/20"},t)}))))}}])&&de(t.prototype,a),n&&de(t,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();function x(e){return(x="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ge(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,function(e){e=function(e,t){if("object"!==x(e)||null===e)return e;var a=e[Symbol.toPrimitive];if(void 0===a)return("string"===t?String:Number)(e);a=a.call(e,t||"default");if("object"!==x(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}(e,"string");return"symbol"===x(e)?e:String(e)}(n.key),n)}}var ye=function(){function e(){if(!(this instanceof e))throw new TypeError("Cannot call a class as a function")}var t,a,n;return t=e,(a=[{key:"view",value:function(e){return m("div",{class:"tabs"},m("ul",null,m("li",null,m("a",{href:"#",onclick:function(e){e.preventDefault(),P.clearAllActiveFilters(),e.even.addClss("active")},class:"tab"},"All")),m("li",null,m("a",{href:"#",onclick:function(e){e.preventDefault(),P.setActiveFilters("type",ig_es_main_js_data.newsletter_campaign_type)},class:(-1<k.activeFilters.type.indexOf(ig_es_main_js_data.newsletter_campaign_type)?"active ":"")+"tab secondary"},"Newsletter")),m("li",null,m("a",{href:"#",onclick:function(e){e.preventDefault(),P.setActiveFilters("type",ig_es_main_js_data.post_notification_campaign_type)},class:(-1<k.activeFilters.type.indexOf(ig_es_main_js_data.post_notification_campaign_type)?"active ":"")+"tab secondary"},"Post Notification")),m("li",null,m("a",{href:"#",onclick:function(e){e.preventDefault(),P.setActiveFilters("type",ig_es_main_js_data.post_digest_campaign_type)},class:(-1<k.activeFilters.type.indexOf(ig_es_main_js_data.post_digest_campaign_type)?"active ":"")+"tab secondary"},"Post Digest")),m("li",null,m("a",{href:"#",onclick:function(e){e.preventDefault(),P.setActiveFilters("editor_type",ig_es_main_js_data.classic_editor_slug)},class:(-1<k.activeFilters.editor_type.indexOf(ig_es_main_js_data.classic_editor_slug)?"active ":"")+"tab secondary"},"Classic Editor")),m("li",null,m("a",{href:"#",onclick:function(e){e.preventDefault(),P.setActiveFilters("editor_type",ig_es_main_js_data.dnd_editor_slug)},class:(-1<k.activeFilters.editor_type.indexOf(ig_es_main_js_data.dnd_editor_slug)?"active ":"")+"tab secondary"},"Drag & Drop Editor"))))}}])&&ge(t.prototype,a),n&&ge(t,n),Object.defineProperty(t,"prototype",{writable:!1}),e}(),S={previewHTML:"",item:{},campaignType:"",galleryType:"",showPreview:!1,oncreate:function(){ig_es_load_iframe_preview("#gallery-item-preview-iframe-container",S.previewHTML)},hidePopup:function(){S.showPreview=!1},view:function(e){var t=S.item.es_plan,a=S.item.template_version,t=canUpsellESTemplate(t,a),n=P.manageTemplates,i=S.item.gallery_type,r=n&&"local"===i,l=!n&&!t,n=n&&"remote"===i&&!t,i="";return t&&(i="1.0.1"===a?"pro"===S.item.es_plan?"PRO":"MAX":"starter"===S.item.es_plan?"PRO":"MAX"),m("div",{id:"campaign-preview-popup"},m("div",{class:"fixed top-0 left-0 z-50 flex items-center justify-center w-full h-full",style:"background-color: rgba(0,0,0,.5);"},m("div",{id:"campaign-preview-main-container",class:"absolute h-auto pt-2 ml-16 mr-4 text-left bg-white rounded shadow-xl z-80 w-1/2 md:max-w-5xl lg:max-w-7xl md:pt-3 lg:pt-2"},m("main",{class:"gap-5"},m("div",{class:"sticky top-0 z-10"},m("header",null,m("nav",{"aria-label":"Global"},m("div",{class:"brand-logo"},m("span",null,m("img",{src:ig_es_main_js_data.image_path+"lite/admin/images/new/brand-logo/IG LOGO 192X192.svg",alt:"brand logo"}),m("div",{class:"divide"}),m("h1",null,"Preview"))),m("div",{class:"cta"},m("div",{class:"ig-es-popup-close-container",onclick:S.hidePopup},m("button",{href:"#",class:"cross"},m("svg",{class:"h-5",width:"25",height:"25",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},m("path",{d:"M5.04366 4.17217L7.49984 6.62835L9.94329 4.1849C9.99726 4.12745 10.0623 4.08149 10.1344 4.04978C10.2066 4.01807 10.2844 4.00127 10.3633 4.00037C10.532 4.00037 10.6939 4.06741 10.8132 4.18674C10.9325 4.30607 10.9996 4.46792 10.9996 4.63668C11.0011 4.71469 10.9866 4.79219 10.957 4.86441C10.9275 4.93663 10.8835 5.00204 10.8278 5.05665L8.3525 7.5001L10.8278 9.97537C10.9326 10.078 10.9941 10.2169 10.9996 10.3635C10.9996 10.5323 10.9325 10.6941 10.8132 10.8135C10.6939 10.9328 10.532 10.9998 10.3633 10.9998C10.2822 11.0032 10.2013 10.9897 10.1257 10.9601C10.0501 10.9305 9.98147 10.8855 9.9242 10.828L7.49984 8.37185L5.05002 10.8217C4.99626 10.8772 4.93203 10.9215 4.86104 10.9521C4.79005 10.9827 4.71371 10.9989 4.63642 10.9998C4.46766 10.9998 4.30581 10.9328 4.18648 10.8135C4.06714 10.6941 4.0001 10.5323 4.0001 10.3635C3.99862 10.2855 4.01309 10.208 4.04264 10.1358C4.07218 10.0636 4.11617 9.99816 4.17191 9.94355L6.64718 7.5001L4.17191 5.02483C4.06703 4.92223 4.00554 4.7833 4.0001 4.63668C4.0001 4.46792 4.06714 4.30607 4.18648 4.18674C4.30581 4.06741 4.46766 4.00037 4.63642 4.00037C4.78913 4.00228 4.93549 4.064 5.04366 4.17217Z",fill:"#575362"})))))))),m("div",{id:"gallery-item-preview-container",class:"template-preview mx-auto mt-1 mb-6"},m("div",{id:"gallery-item-preview-iframe-container",class:"py-4 list-decimal popup-preview"})),m("div",{class:"flex justify-center py-5"},l&&m("button",{class:"primary mx-auto",href:"?action=ig_es_import_gallery_item&template-id="+S.item.ID+"&campaign-type="+S.campaignType+"&gallery-type="+S.item.gallery_type+"&_wpnonce="+ig_es_js_data.security},__("Use this template","email-subscribers")),r&&m("button",{class:"primary mx-auto",onclick:function(){m.route.set("/template/edit/"+S.item.ID)}},__("Edit this template","email-subscribers")),n&&m("button",{class:"primary mx-auto",onclick:function(){return window.location.href="?action=ig_es_import_remote_gallery_template&template-id="+S.item.ID+"&_wpnonce="+ig_es_js_data.security}},__("Import this template","email-subscribers")),t&&m("button",{class:"primary mx-auto capitalize",onclick:function(){return window.open("https://www.icegram.com/email-subscribers-pricing/?utm_source=in_app&utm_medium=remote_gallery_template&utm_campaign=es_upsell")},target:"_blank"},__("Upgrade to","email-subscribers")+" "+i))))))}},j=S,ve={view:function(e){var t=e.attrs.campaignType,e="",e=P.manageTemplates?__("Template","email-subscribers"):__("Campaign","email-subscribers");return m("div",{class:"form-fields ig-es-popup-container"},m("div",{class:"ig-es-popup-overlay"}),m("div",{class:"ig-es-popup"},m("div",{class:"ig-es-popup-title"},m("h3",null,"Create New ",e),m("div",{class:"ig-es-popup-close-container"},m("button",{onclick:function(){P.hideEditorChoicePopup()},href:"#",class:"cross"},m("svg",{class:"h-5",width:"25",height:"25",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},m("path",{d:"M5.04366 4.17217L7.49984 6.62835L9.94329 4.1849C9.99726 4.12745 10.0623 4.08149 10.1344 4.04978C10.2066 4.01807 10.2844 4.00127 10.3633 4.00037C10.532 4.00037 10.6939 4.06741 10.8132 4.18674C10.9325 4.30607 10.9996 4.46792 10.9996 4.63668C11.0011 4.71469 10.9866 4.79219 10.957 4.86441C10.9275 4.93663 10.8835 5.00204 10.8278 5.05665L8.3525 7.5001L10.8278 9.97537C10.9326 10.078 10.9941 10.2169 10.9996 10.3635C10.9996 10.5323 10.9325 10.6941 10.8132 10.8135C10.6939 10.9328 10.532 10.9998 10.3633 10.9998C10.2822 11.0032 10.2013 10.9897 10.1257 10.9601C10.0501 10.9305 9.98147 10.8855 9.9242 10.828L7.49984 8.37185L5.05002 10.8217C4.99626 10.8772 4.93203 10.9215 4.86104 10.9521C4.79005 10.9827 4.71371 10.9989 4.63642 10.9998C4.46766 10.9998 4.30581 10.9328 4.18648 10.8135C4.06714 10.6941 4.0001 10.5323 4.0001 10.3635C3.99862 10.2855 4.01309 10.208 4.04264 10.1358C4.07218 10.0636 4.11617 9.99816 4.17191 9.94355L6.64718 7.5001L4.17191 5.02483C4.06703 4.92223 4.00554 4.7833 4.0001 4.63668C4.0001 4.46792 4.06714 4.30607 4.18648 4.18674C4.30581 4.06741 4.46766 4.00037 4.63642 4.00037C4.78913 4.00228 4.93549 4.064 5.04366 4.17217Z",fill:"#575362"}))))),m("div",{class:"p-6 bg-gray-50 grid grid-cols-1 md:grid-cols-2 gap-5"},m("div",{class:"ig-es-new-campaign-type-tab",onclick:function(e){P.manageTemplates?m.route.set("/template/edit",{editorType:ig_es_main_js_data.classic_editor_slug}):m.route.set("/campaign/edit",{campaignType:t,editorType:ig_es_main_js_data.classic_editor_slug})}},m("img",{class:"inline",src:ig_es_main_js_data.image_path+"lite/admin/images/new/image-31.png",alt:""}),m("p",{class:"ig-es-campaign-type-title"},"Classic Editor")),m("div",{class:"ig-es-new-campaign-type-tab",onclick:function(e){P.manageTemplates?m.route.set("/template/edit",{editorType:ig_es_main_js_data.dnd_editor_slug}):m.route.set("/campaign/edit",{campaignType:t,editorType:ig_es_main_js_data.dnd_editor_slug})}},m("img",{class:"inline",src:ig_es_main_js_data.image_path+"lite/admin/images/new/image-30.png",alt:""}),m("p",{class:"ig-es-campaign-type-title"},"Drag-n-Drop Editor")))))}};function T(e){return(T="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function be(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,he(n.key),n)}}function he(e){e=function(e,t){if("object"!==T(e)||null===e)return e;var a=e[Symbol.toPrimitive];if(void 0===a)return("string"===t?String:Number)(e);a=a.call(e,t||"default");if("object"!==T(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}(e,"string");return"symbol"===T(e)?e:String(e)}var P=function(){function i(e){if(!(this instanceof i))throw new TypeError("Cannot call a class as a function");k.canShowEditorChoicePopup=!1,k.activeFilters=[],k.manageTemplates=!1}var e,t,a;return e=i,a=[{key:"showPreview",value:function(t,a,e){k.loadTemplatePreviewData(t.ID,e,function(e){d.showLoader=!1,j.previewHTML=e.data.template_html,j.item=t,j.showPreview=!0,j.campaignType=a})}},{key:"showEditorChoicePopup",value:function(){k.canShowEditorChoicePopup=!0}},{key:"hideEditorChoicePopup",value:function(){k.canShowEditorChoicePopup=!1}},{key:"deleteGalleryTemplate",value:function(t){confirm(__("Do you really want to delete this template?","email-subscribers"))&&k.deleteTemplate(t,function(e){e.success?k.items=k.items.filter(function(e){return e.ID!==t}):alert(__("An error has occured. Please try again later","email-subscribers"))})}},{key:"setActiveFilters",value:function(e,t){void 0===k.activeFilters&&(k.activeFilters=[]),void 0===k.activeFilters[e]&&(k.activeFilters[e]=[]),-1<k.activeFilters[e].indexOf(t)?k.activeFilters[e]=k.activeFilters[e].filter(function(e){return e!==t}):k.activeFilters[e].push(t)}},{key:"clearAllActiveFilters",value:function(){k.activeFilters.type=[],k.activeFilters.editor_type=[],k.activeFilters.gallery_type=[]}}],(t=[{key:"oninit",value:function(e){k.loadItems(),k.canShowEditorChoicePopup=!1,k.activeFilters=[];var t=!(i.manageTemplates="yes"===e.attrs.manageTemplates),e=e.attrs.campaignType;k.activeFilters.type||(k.activeFilters.type=[]),k.activeFilters.editor_type||(k.activeFilters.editor_type=[]),k.activeFilters.gallery_type||(k.activeFilters.gallery_type=[]),t&&0<=k.activeFilters.type.length&&-1===k.activeFilters.type.indexOf(e)&&(k.activeFilters.type.push(e),e===ig_es_main_js_data.post_notification_campaign_type)&&k.activeFilters.type.push(ig_es_main_js_data.post_digest_campaign_type)}},{key:"view",value:function(a){var n=a.attrs.campaignType,e=k.items;return 0<k.items.length&&(0<Object.keys(k.activeFilters).length||0<Object.keys(k.activeFilters).length)&&(0<k.activeFilters.type.length&&(e=k.items.filter(function(e){return k.activeFilters.type.includes(e.type)})),0<k.activeFilters.editor_type.length&&(e=e.filter(function(e){return k.activeFilters.editor_type.includes(e.editor_type)})),0<k.activeFilters.gallery_type.length)&&(e=e.filter(function(e){return k.activeFilters.gallery_type.includes(e.gallery_type)})),m("main",{class:"gap-5"},d.showLoader?m(d,null):null,m("div",{class:"sticky top-0 z-10"},m("header",null,m("nav",{"aria-label":"Global",class:"py-5"},m("div",{class:"brand-logo"},m("span",null,m("img",{src:ig_es_main_js_data.image_path+"lite/admin/images/new/brand-logo/IG LOGO 192X192.svg",alt:"brand logo"}),m("div",{class:"divide"}),m("h1",null,"Gallery Items")))))),m(ye,null),m("div",{class:"templates"},m("div",{class:"create-new"},m("div",{class:"card-head"},m("img",{class:"mx-auto",src:ig_es_main_js_data.image_path+"lite/admin/images/new/create-new-template.png",alt:""})),m("div",{class:"flex flex-col w-48 gap-4 card-desc"},m("button",{class:"primary w-28 mx-auto",onclick:function(e){i.showEditorChoicePopup()}}," Create New"),m("a",{class:"font-normal text-xs text-gray-500"},"Click here to create a new template from scratch."))),e.map(function(e,t){return ig_es_main_js_data.post_digest_campaign_type!==e.type&&ig_es_main_js_data.post_notification_campaign_type!==e.type||(n=e.type),m(fe,{key:t,item:e,campaignType:n,campaignId:a.attrs.campaignId})})),j.showPreview?m(j,null):"",k.canShowEditorChoicePopup?m(ve,{campaignType:a.attrs.campaignType}):"")}}])&&be(e.prototype,t),a&&be(e,a),Object.defineProperty(e,"prototype",{writable:!1}),i}();function D(e){return(D="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,function(e){e=function(e,t){if("object"!==D(e)||null===e)return e;var a=e[Symbol.toPrimitive];if(void 0===a)return("string"===t?String:Number)(e);a=a.call(e,t||"default");if("object"!==D(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}(e,"string");return"symbol"===D(e)?e:String(e)}(n.key),n)}}e=P,t=!(a="manageTemplates"),(a=he(a))in e?Object.defineProperty(e,a,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[a]=t;var we=function(){function e(){if(!(this instanceof e))throw new TypeError("Cannot call a class as a function")}var t,a,n;return t=e,(a=[{key:"view",value:function(){y.isPro();return m("div",{class:"form-fields ig-es-popup-container"},m("div",{class:"ig-es-popup-overlay"}),m("div",{class:"ig-es-popup"},m("div",{class:"ig-es-popup-title"},m("h3",null,"Create A New Campaign"),m("div",{class:"ig-es-popup-close-container"},m("button",{href:"#",onclick:function(e){e.preventDefault(),Ce.hideCampaignChoicePopup()},class:"cross"},m("svg",{class:"h-5",width:"25",height:"25",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},m("path",{d:"M5.04366 4.17217L7.49984 6.62835L9.94329 4.1849C9.99726 4.12745 10.0623 4.08149 10.1344 4.04978C10.2066 4.01807 10.2844 4.00127 10.3633 4.00037C10.532 4.00037 10.6939 4.06741 10.8132 4.18674C10.9325 4.30607 10.9996 4.46792 10.9996 4.63668C11.0011 4.71469 10.9866 4.79219 10.957 4.86441C10.9275 4.93663 10.8835 5.00204 10.8278 5.05665L8.3525 7.5001L10.8278 9.97537C10.9326 10.078 10.9941 10.2169 10.9996 10.3635C10.9996 10.5323 10.9325 10.6941 10.8132 10.8135C10.6939 10.9328 10.532 10.9998 10.3633 10.9998C10.2822 11.0032 10.2013 10.9897 10.1257 10.9601C10.0501 10.9305 9.98147 10.8855 9.9242 10.828L7.49984 8.37185L5.05002 10.8217C4.99626 10.8772 4.93203 10.9215 4.86104 10.9521C4.79005 10.9827 4.71371 10.9989 4.63642 10.9998C4.46766 10.9998 4.30581 10.9328 4.18648 10.8135C4.06714 10.6941 4.0001 10.5323 4.0001 10.3635C3.99862 10.2855 4.01309 10.208 4.04264 10.1358C4.07218 10.0636 4.11617 9.99816 4.17191 9.94355L6.64718 7.5001L4.17191 5.02483C4.06703 4.92223 4.00554 4.7833 4.0001 4.63668C4.0001 4.46792 4.06714 4.30607 4.18648 4.18674C4.30581 4.06741 4.46766 4.00037 4.63642 4.00037C4.78913 4.00228 4.93549 4.064 5.04366 4.17217Z",fill:"#575362"}))))),m("div",{class:"p-6 bg-gray-50 grid grid-cols-1 ".concat(y.isPro()?"md:grid-cols-3":"md:grid-cols-2"," gap-5")},m("div",{class:"ig-es-new-campaign-type-tab",onclick:function(e){m.route.set("/gallery",{campaignType:ig_es_main_js_data.post_notification_campaign_type})}},m("img",{class:"inline",src:ig_es_main_js_data.image_path+"lite/admin/images/new/image 9.png",alt:""}),m("p",{class:"ig-es-campaign-type-title"},"Post Notification")),m("div",{class:"ig-es-new-campaign-type-tab",onclick:function(e){m.route.set("/gallery",{campaignType:ig_es_main_js_data.newsletter_campaign_type})}},m("img",{class:"inline",src:ig_es_main_js_data.image_path+"lite/admin/images/new/image 10.png",alt:""}),m("p",{class:"ig-es-campaign-type-title"},"Broadcast")),y.isPro()&&m("div",{class:"ig-es-new-campaign-type-tab",onclick:function(e){location.href="admin.php?page=es_sequence&action=new"}},m("img",{class:"inline",src:ig_es_main_js_data.image_path+"lite/admin/images/new/image 12.png",alt:""}),m("p",{class:"ig-es-campaign-type-title"},"Sequence")))))}}])&&_e(t.prototype,a),n&&_e(t,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();function O(e){return(O="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ke(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,function(e){e=function(e,t){if("object"!==O(e)||null===e)return e;var a=e[Symbol.toPrimitive];if(void 0===a)return("string"===t?String:Number)(e);a=a.call(e,t||"default");if("object"!==O(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}(e,"string");return"symbol"===O(e)?e:String(e)}(n.key),n)}}var Ce=function(){function e(){if(!(this instanceof e))throw new TypeError("Cannot call a class as a function");e.CamapignChoicePopup=!1}var t,a,n;return t=e,n=[{key:"hideCampaignChoicePopup",value:function(){e.CamapignChoicePopup=!1}}],(a=[{key:"showCampaignChoicePopup",value:function(){e.CamapignChoicePopup=!0}},{key:"view",value:function(){var t=this;return m("main",{class:"gap-5"},m("div",{class:"sticky top-0 z-10"},m("header",null,m("nav",{"aria-label":"Global",class:"py-5"},m("div",{class:"brand-logo"},m("span",null,m("img",{src:ig_es_main_js_data.image_path+"lite/admin/images/new/brand-logo/IG LOGO 192X192.svg",alt:"brand logo"}),m("div",{class:"divide"}),m("h1",null,"Campaigns"),m("span",{class:"relative flex flex-col items-center group"},m("svg",{width:"18",height:"18",viewBox:"0 0 18 18",fill:"none",xmlns:"http://www.w3.org/2000/svg"},m("path",{d:"M9.00188 4.36987C7.62484 4.36987 6.48877 5.48872 6.48877 6.88299C6.48877 7.24446 6.78139 7.51987 7.12565 7.51987C7.46992 7.51987 7.76254 7.22725 7.76254 6.88299C7.76254 6.21168 8.31336 5.66086 8.98467 5.66086C9.69041 5.66086 10.2068 6.16004 10.2068 6.83135C10.2068 6.83135 10.2068 6.84856 10.2068 6.88299C10.2068 7.26168 10.1035 8.15676 8.88139 8.3461C8.57156 8.39774 8.33057 8.65594 8.33057 8.98299V10.7215C8.33057 11.083 8.6232 11.3584 8.96746 11.3584C9.31172 11.3584 9.60434 11.0658 9.60434 10.7215V9.49938C11.2224 9.0002 11.4806 7.60594 11.4806 6.83135C11.515 5.4543 10.3789 4.36987 9.00188 4.36987Z",fill:"#575362"}),m("path",{d:"M8.99908 12.1328C8.53433 12.1328 8.17285 12.5115 8.17285 12.959C8.17285 13.4066 8.55154 13.7853 8.99908 13.7853C9.44662 13.7853 9.82531 13.4066 9.82531 12.959C9.82531 12.5115 9.44662 12.1328 8.99908 12.1328Z",fill:"#575362"}),m("path",{d:"M9.00058 0.600098C4.37026 0.600098 0.600586 4.36977 0.600586 9.0001C0.600586 13.6304 4.37026 17.4001 9.00058 17.4001C13.6309 17.4001 17.4006 13.6304 17.4006 9.0001C17.4006 4.36977 13.6309 0.600098 9.00058 0.600098ZM9.00058 16.1263C5.07599 16.1263 1.87436 12.9247 1.87436 9.0001C1.87436 5.07551 5.07599 1.87387 9.00058 1.87387C12.9252 1.87387 16.1268 5.07551 16.1268 9.0001C16.1096 12.9247 12.9252 16.1263 9.00058 16.1263Z",fill:"#575362"})),m("div",{class:"absolute top-0 flex flex-col items-center hidden mb-6 group-hover:flex"},m("div",{class:"w-2 h-2 mt-7 rotate-45 bg-neutral-950"}),m("span",{class:"relative w-11 z-10 p-2 text-xs font-medium justify-center leading-none text-white bg-neutral-950 shadow-lg rounded-sm"},"Help"))))),m("div",{class:"cta"},m("button",{href:"#",class:"secondary",onclick:function(e){m.route.set("/gallery",{manageTemplates:"yes"})}},"Templates"),m("button",{href:"#",class:"primary",onclick:function(e){e.preventDefault(),t.showCampaignChoicePopup()}},"Create New"))))),m(ae,null),m(ue,null),e.CamapignChoicePopup?m(we,null):"")}}])&&ke(t.prototype,a),n&&ke(t,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();function E(e){return(E="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function xe(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,function(e){e=function(e,t){if("object"!==E(e)||null===e)return e;var a=e[Symbol.toPrimitive];if(void 0===a)return("string"===t?String:Number)(e);a=a.call(e,t||"default");if("object"!==E(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}(e,"string");return"symbol"===E(e)?e:String(e)}(n.key),n)}}var Se=function(){function e(){if(!(this instanceof e))throw new TypeError("Cannot call a class as a function")}var t,a,n;return t=e,(a=[{key:"oncreate",value:function(e){e=e.attrs.content;renderESDNDEditor("ig-es-dnd-builder"),void 0!==(e=ig_es_is_valid_json(e)?JSON.parse("".concat(e)):e)&&""!==e||(e='<mjml>\n            <mj-body>\n                <mj-section background-color="#FFFFFF">\n                    <mj-column width="100%">\n                        <mj-image src="https://webstockreview.net/images/sample-png-images-14.png" height="70px"\n                                  width="140px"/>\n                    </mj-column>\n                </mj-section>\n                <mj-section background-color="#FFFFFF">\n                    <mj-column width="100%">\n                        <mj-text line-height="26px">Your content...</mj-text>\n                    </mj-column>\n                </mj-section>\n                <mj-section background-color="#f3f3f3">\n                    <mj-column width="100%">\n                        <mj-text align="center" line-height="26px">@2022, Your Brand Name.</mj-text>\n                        <mj-text align="center" line-height="26px">You are receiving this email because you have visited our site or asked\n                            about our regular newsletter. If you wish to unsubscribe from our newsletter, click <a data-gjs-type="link" href="{{UNSUBSCRIBE-LINK}}" >here </a>\n                        </mj-text>\n                    </mj-column>\n                </mj-section>\n            </mj-body>\n        </mjml> '),esVisualEditor.importMjml(e),this.fixComponentSelectIssueOnScroll()}},{key:"fixComponentSelectIssueOnScroll",value:function(){document.getElementById("campaign-content").addEventListener("scroll",function(){var e=new Event("scroll");window.dispatchEvent(e)})}},{key:"updateCampaignContent",value:function(){g.addDnDEditorData()}},{key:"view",value:function(e){e.attrs;return m("div",{class:"es-dnd-editor"},m("div",{id:"ig-es-dnd-builder"}))}}])&&xe(t.prototype,a),n&&xe(t,n),Object.defineProperty(t,"prototype",{writable:!1}),e}(),je={draggable:'<svg width="12" height="8" viewBox="0 0 12 8" fill="none" xmlns="http://www.w3.org/2000/svg">\n    <path fill-rule="evenodd" clip-rule="evenodd" d="M11.9999 1.40007C11.9999 2.06282 11.4626 2.60007 10.7999 2.60007C10.1371 2.60007 9.59985 2.06282 9.59985 1.40007C9.59985 0.737331 10.1371 0.200073 10.7999 0.200073C11.4626 0.200073 11.9999 0.737331 11.9999 1.40007Z" fill="#C4C4C4"/>\n    <path fill-rule="evenodd" clip-rule="evenodd" d="M11.9999 6.20012C11.9999 6.86288 11.4626 7.40012 10.7999 7.40012C10.1371 7.40012 9.59985 6.86288 9.59985 6.20012C9.59985 5.53736 10.1371 5.00012 10.7999 5.00012C11.4626 5.00012 11.9999 5.53736 11.9999 6.20012Z" fill="#C4C4C4"/>\n    <path fill-rule="evenodd" clip-rule="evenodd" d="M7.20005 6.20012C7.20005 6.86288 6.66281 7.40012 6.00005 7.40012C5.33729 7.40012 4.80005 6.86288 4.80005 6.20012C4.80005 5.53736 5.33729 5.00012 6.00005 5.00012C6.66281 5.00012 7.20005 5.53736 7.20005 6.20012Z" fill="#C4C4C4"/>\n    <path fill-rule="evenodd" clip-rule="evenodd" d="M2.40024 1.40007C2.40024 2.06282 1.86299 2.60007 1.20024 2.60007C0.537502 2.60007 0.000244141 2.06282 0.000244141 1.40007C0.000244141 0.737331 0.537502 0.200073 1.20024 0.200073C1.86299 0.200073 2.40024 0.737331 2.40024 1.40007Z" fill="#C4C4C4"/>\n    <path fill-rule="evenodd" clip-rule="evenodd" d="M2.40024 6.20012C2.40024 6.86288 1.86299 7.40012 1.20024 7.40012C0.537502 7.40012 0.000244141 6.86288 0.000244141 6.20012C0.000244141 5.53736 0.537502 5.00012 1.20024 5.00012C1.86299 5.00012 2.40024 5.53736 2.40024 6.20012Z" fill="#C4C4C4"/>\n    <path fill-rule="evenodd" clip-rule="evenodd" d="M7.20005 1.40007C7.20005 2.06282 6.66281 2.60007 6.00005 2.60007C5.33729 2.60007 4.80005 2.06282 4.80005 1.40007C4.80005 0.737331 5.33729 0.200073 6.00005 0.200073C6.66281 0.200073 7.20005 0.737331 7.20005 1.40007Z" fill="#C4C4C4"/>\n    </svg>\n    '};function L(e){return(L="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Te(e,t){var a,n,i,r,l="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(l)return n=!(a=!0),{s:function(){l=l.call(e)},n:function(){var e=l.next();return a=e.done,e},e:function(e){n=!0,i=e},f:function(){try{a||null==l.return||l.return()}finally{if(n)throw i}}};if(Array.isArray(e)||(l=function(e,t){var a;if(e)return"string"==typeof e?Pe(e,t):"Map"===(a="Object"===(a=Object.prototype.toString.call(e).slice(8,-1))&&e.constructor?e.constructor.name:a)||"Set"===a?Array.from(e):"Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?Pe(e,t):void 0}(e))||t&&e&&"number"==typeof e.length)return l&&(e=l),r=0,{s:t=function(){},n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:t};throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function Pe(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,n=new Array(t);a<t;a++)n[a]=e[a];return n}function De(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Ee(n.key),n)}}function Oe(e,t,a){(t=Ee(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a}function Ee(e){e=function(e,t){if("object"!==L(e)||null===e)return e;var a=e[Symbol.toPrimitive];if(void 0===a)return("string"===t?String:Number)(e);a=a.call(e,t||"default");if("object"!==L(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}(e,"string");return"symbol"===L(e)?e:String(e)}var M=function(){function o(){if(!(this instanceof o))throw new TypeError("Cannot call a class as a function")}var e,t,a;return e=o,(t=[{key:"oncreate",value:function(e){e=e.attrs.campaignType;y.isPostCampaign(e)&&esVisualEditor.on("component:update:post-format",this.updateCategoryData)}},{key:"onDragStart",value:function(e){o.dragStart(e)}},{key:"onDragStop",value:function(){o.dragStop()}},{key:"updateCategoryData",value:function(e){"blank"===e.get("post-format")&&(H.activeTab="blocksManager",o.activeTab=2,m.redraw())}},{key:"view",value:function(e){var t,n=this,a=(e.attrs,{}),i=Te(o.blocks);try{for(i.s();!(t=i.n()).done;){var r=t.value,l=r.getCategoryLabel();void 0===a[l]&&(a[l]=[]),a[l].push(r)}}catch(e){i.e(e)}finally{i.f()}return m("div",{class:"gjs-blocks-cs gjs-one-bg gjs-two-color"},m("div",{class:"gjs-block-categories"},m("nav",null,Object.keys(a).map(function(e,t){return m("div",{class:"links",onclick:function(){o.activeTab=t}},m("a",{class:"cursor-pointer"+(o.activeTab===t?" active":"")},e))})),Object.keys(a).map(function(e,t){return m("div",{class:"gjs-blocks-c "+(t===o.activeTab?"active":"hidden")},a[e].map(function(e){var t=null==e||null==(t=e.attributes)||null==(t=t.attributes)?void 0:t.class,a=null==e||null==(a=e.attributes)?void 0:a.disable;return m("div",{class:"gjs-block gjs-one-bg gjs-four-color-h"+(void 0!==t?" "+t:""),ondragstart:function(){return n.onDragStart(e)},ondragend:function(){return n.onDragStop()},draggable:a?"":"draggable"},m("div",{class:"gjs-block-media"},m.trust(e.getMedia())),m("div",{class:"gjs-block-label"},e.getLabel()),m("div",{class:"gjs-block-icon-draggable"},m.trust(je.draggable)))}))})))}}])&&De(e.prototype,t),a&&De(e,a),Object.defineProperty(e,"prototype",{writable:!1}),o}();function Le(e){return(Le="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Me(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,function(e){e=function(e,t){if("object"!==Le(e)||null===e)return e;var a=e[Symbol.toPrimitive];if(void 0===a)return("string"===t?String:Number)(e);a=a.call(e,t||"default");if("object"!==Le(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}(e,"string");return"symbol"===Le(e)?e:String(e)}(n.key),n)}}Oe(M,"blocks",[]),Oe(M,"dragStart",void 0),Oe(M,"dragStop",void 0),Oe(M,"activeTab",0);var He=function(){function i(){if(!(this instanceof i))throw new TypeError("Cannot call a class as a function")}var e,t,a;return e=i,(t=[{key:"view",value:function(e){var e=e.attrs,o="gjs-",s=e.prop,t=s.getId(),c=s.getName(),a=s.getType(),u=s.hasValue()?s.getValue():"",n=s.getDefaultValue(),p=e.selectedComponent;return m("div",{id:t,class:"".concat(o,"sm-property ").concat(o,"sm-").concat(c," ").concat(o,"sm-property__").concat(c," ").concat("composite"===a?"".concat(o,"sm-property--full"):"")},m("div",null,m("div",{class:"".concat(o,"sm-label")},m("span",{class:"".concat(o,"sm-icon")},s.getLabel()),s.canClear()&&m("b",{class:"".concat(o,"sm-clear"),"data-clear-style":!0,onclick:function(e){e.preventDefault(),s.clear()}},"⨯")),m("div",{class:"".concat(o,"fields"),"data-sm-fields":""},m("div",{class:"".concat(o,"field ").concat(o,"field-").concat(a)},("number"===a||"integer"===a||"slider"===a)&&m("input",{type:"number",placeholder:n,value:u,oninput:function(e){return s.upValue(e.target.value,{partial:!0})},onchange:function(e){s.upValue(e.target.value)},step:s.getStep(),min:s.getMin(),max:s.getMax()}),"radio"===a&&m("div",{class:"".concat(o,"radio-items")},s.getOptions().map(function(e){var t=s.getOptionId(e),a=c+"-"+p.getId(),n=a+"-"+t,i=e.className?"".concat(e.className," ").concat(o,"icon ").concat(o,"radio-item-label"):"",r=i?"":s.getOptionLabel(e),e=e.title||"",l=u===t?"checked":"";return m("div",{class:"".concat(o,"radio-item")},m("input",{id:n,type:"radio",class:"".concat(o,"sm-radio ").concat(o,"sm-radio-").concat(c),name:a,value:t,onchange:function(e){s.upValue(e.target.value)},checked:l}),m("label",{class:i||o+"radio-item-label",for:n,title:e},r))})),"select"===a&&m("select",{value:u,onchange:function(e){s.upValue(e.target.value)}},s.getOptions().map(function(e){return m("option",{value:s.getOptionId(e)},s.getOptionLabel(e))})),"color"===a&&m("div",{class:"ig-es-color-picker"},m("input",{type:"text",placeholder:n,value:u,onchange:function(e){s.upValue(e.target.value)}}),m("div",{style:(s.hasValue(),s.getValue()),class:"ig-es-color-picker-input"},m("input",{class:"ig-es-input-color",type:"color",value:s.hasValue()?s.getValue():n,onchange:function(e){s.upValue(e.target.value)},oninput:function(e){s.upValue(e.target.value,{partial:!0})}}))),"file"===a&&m("div",{class:"".concat(o,"field ").concat(o,"file")},m("div",{id:"".concat(o,"input-holder")},m("div",{class:"".concat(o,"btn-c")},m("button",{onclick:function(){var a=esVisualEditor.Assets;a.open({select:function(e,t){s.upValue(e.getSrc(),{partial:!t}),t&&a.close()},types:["image"],accept:"image/*"})}},__("Image","email-subscribers")))),s.getValue()&&s.getValue()!==n&&m("div",{class:"ig-es-btn-prv",style:"background-image: url(".concat(s.getValue(),")")})),"composite"===a&&m("div",{class:"ig-es-type-cmp pa-2"},s.getProperties().map(function(e){return m(i,{prop:e})}))))))}}])&&Me(e.prototype,t),a&&Me(e,a),Object.defineProperty(e,"prototype",{writable:!1}),i}();function Ae(e){return(Ae="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ne(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Ve(n.key),n)}}function Ve(e){e=function(e,t){if("object"!==Ae(e)||null===e)return e;var a=e[Symbol.toPrimitive];if(void 0===a)return("string"===t?String:Number)(e);a=a.call(e,t||"default");if("object"!==Ae(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}(e,"string");return"symbol"===Ae(e)?e:String(e)}var t,a,Ie=function(){function i(){if(!(this instanceof i))throw new TypeError("Cannot call a class as a function")}var e,t,a;return e=i,(t=[{key:"view",value:function(e){var t,a=e.attrs,n=esVisualEditor.getSelected();return n&&(t=n.get("stylable"))&&Array.isArray(t)?(e=i.sectors,n&&m("div",{class:"p-4 bg-light-gray"},m("div",{class:"prev-sector-cta"},m("a",{href:"#",onclick:function(e){e.preventDefault(),a.setActiveTab("blocksManager")}},m("svg",{width:"14",height:"14",viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg"},m("path",{d:"M8.19151 2.87899L4.73472 6.45346C4.44225 6.75589 4.44225 7.24421 4.73472 7.54664L8.19151 11.1211C8.48671 11.4264 8.96747 11.4264 9.26267 11.1211C9.55515 10.8187 9.55515 10.3304 9.26267 10.0279L6.33448 7.00005L9.26267 3.97217C9.55515 3.66974 9.55515 3.18142 9.26268 2.87899C8.96747 2.57374 8.48671 2.57374 8.19151 2.87899Z",fill:"#575362",stroke:"#575362","stroke-width":"0.3"}))),m("span",null,n.getName())),e.map(function(e){return m("div",{id:e.getId(),class:"gjs-sm-sector gjs-sm-sector__".concat(e.getName())},m("div",{class:"gjs-sm-title"},e.getName()),m("div",{class:"gjs-sm-properties"},e.getProperties().map(function(e){return t.includes(e.getName())&&m(He,{selectedComponent:n,prop:e})})))}))):""}}])&&Ne(e.prototype,t),a&&Ne(e,a),Object.defineProperty(e,"prototype",{writable:!1}),i}();function Fe(e){return(Fe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function qe(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Be(n.key),n)}}function Re(e,t,a){(t=Be(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a}function Be(e){e=function(e,t){if("object"!==Fe(e)||null===e)return e;var a=e[Symbol.toPrimitive];if(void 0===a)return("string"===t?String:Number)(e);a=a.call(e,t||"default");if("object"!==Fe(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}(e,"string");return"symbol"===Fe(e)?e:String(e)}e=Ie,a=[],(t=Ve(t="sectors"))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a;var H=function(){function n(){if(!(this instanceof n))throw new TypeError("Cannot call a class as a function")}var e,t,a;return e=n,a=[{key:"setActiveTab",value:function(e){n.activeTab=e,m.redraw()}}],(t=[{key:"oncreate",value:function(e){e=e.attrs;n.campaignType=e.campaignType,esVisualEditor.on("style:custom",this.setupStyleManager),esVisualEditor.on("block:custom",this.setupBlockManager),esVisualEditor.on("component:remove",this.showBlockManager),esVisualEditor.on("component:add",this.showStyleManager),esVisualEditor.on("component:selected",this.showStyleManager)}},{key:"setupBlockManager",value:function(e){var t=e.blocks,a=e.dragStart,e=e.dragStop,t=y.filterCampaignWiseBlocks(t,n.campaignType);M.blocks=t,M.dragStart=a,M.dragStop=e,m.redraw()}},{key:"setupStyleManager",value:function(e){Ie.sectors=esVisualEditor.StyleManager.getSectors({visible:!0}),m.redraw()}},{key:"showBlockManager",value:function(){n.setActiveTab("blocksManager")}},{key:"showStyleManager",value:function(){n.setActiveTab("styleManager")}},{key:"view",value:function(){return m("div",{class:"es-dnd-editor"},m("div",{class:"es-sidebar sticky top-0"},m("div",{id:"bs-container"},m("div",{id:"gj-blocks-container"},0<M.blocks.length&&"blocksManager"===n.activeTab&&m(M,{campaignType:n.campaignType})),m("div",{id:"gj-design-container"},m("div",{id:"gj-settings-container",style:"styleManager"!==n.activeTab?"display:none":""}),0<Ie.sectors.length&&"styleManager"===n.activeTab&&m(Ie,{setActiveTab:n.setActiveTab})))))}}])&&qe(e.prototype,t),a&&qe(e,a),Object.defineProperty(e,"prototype",{writable:!1}),n}();function Ze(e){return(Ze="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ge(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,ze(n.key),n)}}function ze(e){e=function(e,t){if("object"!==Ze(e)||null===e)return e;var a=e[Symbol.toPrimitive];if(void 0===a)return("string"===t?String:Number)(e);a=a.call(e,t||"default");if("object"!==Ze(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}(e,"string");return"symbol"===Ze(e)?e:String(e)}Re(H,"activeTab","blocksManager"),Re(H,"campaignType","");var Ue=function(){function n(){var e,t,a;if(!(this instanceof n))throw new TypeError("Cannot call a class as a function");e=this,a="es-campaign-body",(t=ze(t="editorId"))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a}var e,t,a;return e=n,(t=[{key:"oncreate",value:function(e){e=e.attrs.content;renderESClassicEditor(this.editorId,e)}},{key:"onupdate",value:function(e){e=e.attrs.content;tinymce.activeEditor.setContent(e)}},{key:"onremove",value:function(e){var e=e.attrs,t=(void 0!==window.tinyMCE&&window.tinyMCE.triggerSave(),document.getElementById(this.editorId).value);e.onRemove(t),removeESClassicEditor(this.editorId)}},{key:"view",value:function(e){e.attrs;return m("div",{class:"es-classic-editor"},m("textarea",{id:this.editorId,name:"body",class:"wp-campaign-body-editor",rows:"40"}))}}])&&Ge(e.prototype,t),a&&Ge(e,a),Object.defineProperty(e,"prototype",{writable:!1}),n}();function We(e){return(We="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Qe(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,function(e){e=function(e,t){if("object"!==We(e)||null===e)return e;var a=e[Symbol.toPrimitive];if(void 0===a)return("string"===t?String:Number)(e);a=a.call(e,t||"default");if("object"!==We(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}(e,"string");return"symbol"===We(e)?e:String(e)}(n.key),n)}}var Je=function(){function e(){if(!(this instanceof e))throw new TypeError("Cannot call a class as a function");this.postNotificationDropdownVisible=!1,this.broadcastDropdownVisible=!1,this.postDigestDropdownVisible=!1}var t,a,n;return t=e,(a=[{key:"postNotificationToggleDropdown",value:function(){this.postNotificationDropdownVisible=!this.postNotificationDropdownVisible}},{key:"broadcastToggleDropdown",value:function(){this.broadcastDropdownVisible=!this.broadcastDropdownVisible}},{key:"postDigestToggleDropdown",value:function(){this.postDigestDropdownVisible=!this.postDigestDropdownVisible}},{key:"copyTagToClipboard",value:function(t){var a=this;navigator.clipboard?navigator.clipboard.writeText(t).then(function(){alert("Copied to clipboard: "+t)}).catch(function(e){console.error("Copy to clipboard failed: "+e),a.copyTagManually(t)}):(console.error("Clipboard API is not supported in this browser."),this.copyTagManually(t))}},{key:"copyTagManually",value:function(e){var t=document.createElement("input");t.value=e,document.body.appendChild(t),t.select(),document.execCommand("copy"),document.body.removeChild(t),alert("Copied to clipboard: "+e)}},{key:"view",value:function(e){var t=this,e=e.attrs.campaignType,a=!1,n=!1,i=!1;return"newsletter"===e?a=!0:"post_notification"===e?n=!0:i=!0,m("[",null,m("p",{class:"font-medium text-sm px-8 py-3"},"Tags"),m("div",{class:"accordion ig-es-campaign-tags-list"},n?m("div",{class:"ig-es-campaign-tags"},m("div",null,m("p",{class:"campaign-tags-title"},m("svg",{"aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"w-3 h-3 inline-flex"},m("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M8.25 4.5l7.5 7.5-7.5 7.5"})),m("span",{class:"ml-2",onclick:function(e){e.preventDefault(),t.postNotificationToggleDropdown()}},"Post Notification"),m("svg",{class:"hidden",width:"13",height:"13",viewBox:"0 0 13 13",fill:"none",xmlns:"http://www.w3.org/2000/svg"},m("symbol",{id:"keyword-clipboard",viewbox:"0 0 13 13",fill:"none"},m("path",{d:"M11.2157 0H4.07843C3.6052 0 3.15136 0.171205 2.81673 0.475951C2.48211 0.780698 2.29412 1.19402 2.29412 1.625V2.08929H1.78431C1.31108 2.08929 0.857237 2.26049 0.522613 2.56524C0.18799 2.86998 0 3.28331 0 3.71429V11.375C0 11.806 0.18799 12.2193 0.522613 12.524C0.857237 12.8288 1.31108 13 1.78431 13H8.92157C9.3948 13 9.84865 12.8288 10.1833 12.524C10.5179 12.2193 10.7059 11.806 10.7059 11.375V10.9107H11.2157C11.6889 10.9107 12.1428 10.7395 12.4774 10.4348C12.812 10.13 13 9.71669 13 9.28571V1.625C13 1.19402 12.812 0.780698 12.4774 0.475951C12.1428 0.171205 11.6889 0 11.2157 0ZM9.68628 11.375C9.68628 11.5597 9.60571 11.7368 9.4623 11.8674C9.31889 11.9981 9.12438 12.0714 8.92157 12.0714H1.78431C1.5815 12.0714 1.387 11.9981 1.24358 11.8674C1.10017 11.7368 1.01961 11.5597 1.01961 11.375V3.71429C1.01961 3.52958 1.10017 3.35244 1.24358 3.22184C1.387 3.09123 1.5815 3.01786 1.78431 3.01786H8.92157C9.12438 3.01786 9.31889 3.09123 9.4623 3.22184C9.60571 3.35244 9.68628 3.52958 9.68628 3.71429V11.375ZM11.9804 9.28571C11.9804 9.47042 11.8998 9.64756 11.7564 9.77816C11.613 9.90877 11.4185 9.98214 11.2157 9.98214H10.7059V3.71429C10.7059 3.28331 10.5179 2.86998 10.1833 2.56524C9.84865 2.26049 9.3948 2.08929 8.92157 2.08929H3.31373V1.625C3.31373 1.4403 3.39429 1.26316 3.5377 1.13255C3.68111 1.00194 3.87562 0.928571 4.07843 0.928571H11.2157C11.4185 0.928571 11.613 1.00194 11.7564 1.13255C11.8998 1.26316 11.9804 1.4403 11.9804 1.625V9.28571Z",fill:"#575362"}),m("path",{d:"M8.15671 4.17859H2.54887C2.41366 4.17859 2.28399 4.2275 2.18838 4.31458C2.09277 4.40165 2.03906 4.51974 2.03906 4.64287C2.03906 4.76601 2.09277 4.8841 2.18838 4.97117C2.28399 5.05824 2.41366 5.10716 2.54887 5.10716H8.15671C8.29192 5.10716 8.42159 5.05824 8.5172 4.97117C8.6128 4.8841 8.66651 4.76601 8.66651 4.64287C8.66651 4.51974 8.6128 4.40165 8.5172 4.31458C8.42159 4.2275 8.29192 4.17859 8.15671 4.17859Z",fill:"#575362"}),m("path",{d:"M8.15671 6.03571H2.54887C2.41366 6.03571 2.28399 6.08462 2.18838 6.17169C2.09277 6.25876 2.03906 6.37686 2.03906 6.49999C2.03906 6.62313 2.09277 6.74122 2.18838 6.82829C2.28399 6.91536 2.41366 6.96428 2.54887 6.96428H8.15671C8.29192 6.96428 8.42159 6.91536 8.5172 6.82829C8.6128 6.74122 8.66651 6.62313 8.66651 6.49999C8.66651 6.37686 8.6128 6.25876 8.5172 6.17169C8.42159 6.08462 8.29192 6.03571 8.15671 6.03571Z",fill:"#575362"}),m("path",{d:"M5.35279 7.89288H2.54887C2.41366 7.89288 2.28399 7.9418 2.18838 8.02887C2.09277 8.11594 2.03906 8.23403 2.03906 8.35717C2.03906 8.48031 2.09277 8.5984 2.18838 8.68547C2.28399 8.77254 2.41366 8.82145 2.54887 8.82145H5.35279C5.488 8.82145 5.61767 8.77254 5.71327 8.68547C5.80888 8.5984 5.86259 8.48031 5.86259 8.35717C5.86259 8.23403 5.80888 8.11594 5.71327 8.02887C5.61767 7.9418 5.488 7.89288 5.35279 7.89288Z",fill:"#575362"}))))),m("div",{class:"panel active"},m("div",{class:"all-tags",style:" ".concat(this.postNotificationDropdownVisible?"":"display:none")},m("ul",null,m("li",null,m("span",{onclick:function(e){e.preventDefault(),t.copyTagToClipboard("title")}},"{{post.title}}"),m("svg",null,m("use",{xlinkHref:"#keyword-clipboard"}))),m("li",null,m("span",{onclick:function(e){e.preventDefault(),t.copyTagToClipboard("first_name")}},"{{subscriber.first_name}}"),m("svg",null,m("use",{xlinkHref:"#keyword-clipboard"}))),m("li",null,m("span",{onclick:function(e){e.preventDefault(),t.copyTagToClipboard("last_name")}},"{{subscriber.last_name}}"),m("svg",null,m("use",{xlinkHref:"#keyword-clipboard"}))),m("li",null,m("span",{onclick:function(e){e.preventDefault(),t.copyTagToClipboard("{{post.date}}")}},"{{post.date}}"),m("svg",null,m("use",{xlinkHref:"#keyword-clipboard"}))),m("li",null,m("span",{onclick:function(e){e.preventDefault(),t.copyTagToClipboard("{{post.image}}")}},"{{post.image}}"),m("svg",null,m("use",{xlinkHref:"#keyword-clipboard"}))),m("li",null,m("span",{onclick:function(e){e.preventDefault(),t.copyTagToClipboard("{{post.excerpt}}")}},"{{post.excerpt}}"),m("svg",null,m("use",{xlinkHref:"#keyword-clipboard"}))),m("li",null,m("span",{onclick:function(e){e.preventDefault(),t.copyTagToClipboard("{{post.description}}")}},"{{post.description}}"),m("svg",null,m("use",{xlinkHref:"#keyword-clipboard"}))),m("li",null,m("span",{onclick:function(e){e.preventDefault(),t.copyTagToClipboard("{{post.author}}")}},"{{post.author}}"),m("svg",null,m("use",{xlinkHref:"#keyword-clipboard"}))),m("li",null,m("span",{onclick:function(e){e.preventDefault(),t.copyTagToClipboard("{{post.link}}")}},"{{post.link}}"),m("svg",null,m("use",{xlinkHref:"#keyword-clipboard"}))),m("li",null,m("span",{onclick:function(e){e.preventDefault(),t.copyTagToClipboard("{{post.link_with_title}}")}},"{{post.link_with_title}}"),m("svg",null,m("use",{xlinkHref:"#keyword-clipboard"}))),m("li",null,m("span",{onclick:function(e){e.preventDefault(),t.copyTagToClipboard("{{post.link_only}}")}},"{{post.link_only}}"),m("svg",null,m("use",{xlinkHref:"#keyword-clipboard"}))),m("li",null,m("span",{onclick:function(e){e.preventDefault(),t.copyTagToClipboard("{{post.full}}")}},"{{post.full}}"),m("svg",null,m("use",{xlinkHref:"#keyword-clipboard"}))),m("li",null,m("span",{onclick:function(e){e.preventDefault(),t.copyTagToClipboard("{{post.cats}}")}},"{{post.cats}}"),m("svg",null,m("use",{xlinkHref:"#keyword-clipboard"}))),m("li",null,m("span",{onclick:function(e){e.preventDefault(),t.copyTagToClipboard("{{post.more_tag}}")}},"{{post.more_tag}}"),m("svg",null,m("use",{xlinkHref:"#keyword-clipboard"}))),m("li",null,m("span",{onclick:function(e){e.preventDefault(),t.copyTagToClipboard("{{post.image_url}}")}},"{{post.image_url}}"),m("svg",null,m("use",{xlinkHref:"#keyword-clipboard"}))))))):"",a?m("div",{class:"ig-es-campaign-tags"},m("div",null,m("p",{class:"campaign-tags-title"},m("svg",{"aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"w-3 h-3 inline-flex"},m("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M8.25 4.5l7.5 7.5-7.5 7.5"})),m("span",{class:"ml-2",onclick:function(e){e.preventDefault(),t.broadcastToggleDropdown()}},"Broadcast"))),m("div",{class:"panel active"},m("div",{class:"all-tags",style:" ".concat(this.broadcastDropdownVisible?"":"display:none")},m("ul",null,m("li",null,m("span",{onclick:function(e){e.preventDefault(),t.copyTagToClipboard("{{subscriber.name}}")}},"{{subscriber.name}}"),m("svg",null,m("use",{xlinkHref:"#keyword-clipboard"}))),m("li",null,m("span",{onclick:function(e){e.preventDefault(),t.copyTagToClipboard("{{subscriber.first_name}}")}},"{{subscriber.first_name}}"),m("svg",null,m("use",{xlinkHref:"#keyword-clipboard"}))),m("li",null,m("span",{onclick:function(e){e.preventDefault(),t.copyTagToClipboard("{{subscriber.last_name}}")}},"{{subscriber.last_name}}"),m("svg",null,m("use",{xlinkHref:"#keyword-clipboard"}))),m("li",null,m("span",{onclick:function(e){e.preventDefault(),t.copyTagToClipboard("{{subscriber.email}}")}},"{{subscriber.email}}"),m("svg",null,m("use",{xlinkHref:"#keyword-clipboard"}))),m("li",null,m("span",{onclick:function(e){e.preventDefault(),t.copyTagToClipboard("{{site.total_contacts}}")}},"{{site.total_contacts}}"),m("svg",null,m("use",{xlinkHref:"#keyword-clipboard"}))),m("li",null,m("span",{onclick:function(e){e.preventDefault(),t.copyTagToClipboard("{{site.url}}")}},"{{site.url}}"),m("svg",null,m("use",{xlinkHref:"#keyword-clipboard"}))),m("li",null,m("span",{onclick:function(e){e.preventDefault(),t.copyTagToClipboard("{{site.name}}")}},"{{site.name}}"),m("svg",null,m("use",{xlinkHref:"#keyword-clipboard"}))))))):"",i?m("div",{class:"ig-es-campaign-tags"},m("div",null,m("p",{class:"campaign-tags-title"},m("svg",{"aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"w-3 h-3 inline-flex"},m("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M8.25 4.5l7.5 7.5-7.5 7.5"})),m("span",{class:"ml-2",onclick:function(e){e.preventDefault(),t.postDigestToggleDropdown()}},"Post Digest"))),m("div",{class:"panel active"},m("div",{class:"all-tags",style:" ".concat(this.postDigestDropdownVisible?"":"display:none")},m("ul",null,m("li",null,m("span",{onclick:function(e){e.preventDefault(),t.copyTagToClipboard("{{subscriber.name}}")}},"{{subscriber.name}}"),m("svg",null,m("use",{xlinkHref:"#keyword-clipboard"}))),m("li",null,m("span",{onclick:function(e){e.preventDefault(),t.copyTagToClipboard("{{subscriber.first_name}}")}},"{{subscriber.first_name}}"),m("svg",null,m("use",{xlinkHref:"#keyword-clipboard"}))),m("li",null,m("span",{onclick:function(e){e.preventDefault(),t.copyTagToClipboard("{{subscriber.last_name}}")}},"{{subscriber.last_name}}"),m("svg",null,m("use",{xlinkHref:"#keyword-clipboard"}))),m("li",null,m("span",{onclick:function(e){e.preventDefault(),t.copyTagToClipboard("{{subscriber.email}}")}},"{{subscriber.email}}"),m("svg",null,m("use",{xlinkHref:"#keyword-clipboard"}))),m("li",null,m("span",{onclick:function(e){e.preventDefault(),t.copyTagToClipboard("{{site.total_contacts}}")}},"{{site.total_contacts}}"),m("svg",null,m("use",{xlinkHref:"#keyword-clipboard"}))),m("li",null,m("span",{onclick:function(e){e.preventDefault(),t.copyTagToClipboard("{{site.url}}")}},"{{site.url}}"),m("svg",null,m("use",{xlinkHref:"#keyword-clipboard"}))),m("li",null,m("span",{onclick:function(e){e.preventDefault(),t.copyTagToClipboard("{{site.name}}")}},"{{site.name}}"),m("svg",null,m("use",{xlinkHref:"#keyword-clipboard"}))))))):""))}}])&&Qe(t.prototype,a),n&&Qe(t,n),Object.defineProperty(t,"prototype",{writable:!1}),e}(),Xe={oncreate:function(e){var e=e.attrs,a=e.id,n=e.changeHandler;jQuery("#"+a).select2({placeholder:"Select",closeOnSelect:!1}),jQuery("#"+a).on("change",function(e){var t=jQuery("#"+a).val();n(t)})},view:function(e){var e=e.attrs,t=e.id,a=e.options,n=e.selectedOptions||[],e=e.multiple;return m("select",{id:t,multiple:e?"multiple":""},m("option",{value:""},"Select"),a.map(function(e){return m("option",{value:e.value,selected:-1<n.indexOf(e.value)?"selected":""},e.name)}))}};function Ye(e){return(Ye="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ke(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,function(e){e=function(e,t){if("object"!==Ye(e)||null===e)return e;var a=e[Symbol.toPrimitive];if(void 0===a)return("string"===t?String:Number)(e);a=a.call(e,t||"default");if("object"!==Ye(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}(e,"string");return"symbol"===Ye(e)?e:String(e)}(n.key),n)}}var $e=function(){function e(){if(!(this instanceof e))throw new TypeError("Cannot call a class as a function")}var t,a,n;return t=e,(a=[{key:"oninit",value:function(){this.setDefaultPostSettings()}},{key:"setDefaultPostSettings",value:function(){void 0===g.details.meta.rules&&(g.details.meta.rules={}),void 0===g.details.meta.rules.no_of_posts&&(g.details.meta.rules.no_of_posts=[1]),void 0===g.details.meta.rules.sorting_orders&&(g.details.meta.rules.sorting_orders=["descending"])}},{key:"setPostsCount",value:function(e){g.details.meta.rules.no_of_posts=[e],g.details.type=1<e?ig_es_main_js_data.post_digest_campaign_type:ig_es_main_js_data.post_notification_campaign_type}},{key:"setCustomPostType",value:function(e){var t=e.value;e.checked?g.details.formattedCategories[t]="all":delete g.details.formattedCategories[t]}},{key:"setCustomPostTypeTerms",value:function(e,t){g.details.formattedCategories[e]=t}},{key:"setSortOrder",value:function(e){g.details.rules.sorting_orders=[e]}},{key:"view",value:function(){var e,a=this,t=1,n=(void 0!==g.details.meta.rules&&void 0!==g.details.meta.rules.no_of_posts&&0<g.details.meta.rules.no_of_posts.length&&(t=g.details.meta.rules.no_of_posts[0]),[{value:"all",name:__("All","email-subscribers")},{value:"none",name:__("None","email-subscribers")},{value:"custom",name:__("Custom","email-subscribers")}]),i=(void 0===g.details.formattedCategories.post&&(g.details.formattedCategories.post="all"),g.details.formattedCategories.post),r=Object.keys(ig_es_main_js_data.post_categories).map(function(e){return{value:parseInt(e),name:ig_es_main_js_data.post_categories[e]}}),l=null!=(l=g.details.formattedCategories)&&l.post&&Array.isArray(g.details.formattedCategories.post)?g.details.formattedCategories.post:[],o=(Array.isArray(l)&&0<l.length&&(i="custom"),Object.keys(ig_es_main_js_data.post_types_name).map(function(e){return{value:e,name:ig_es_main_js_data.post_types_name[e]}})),s=Object.keys(g.details.formattedCategories),c=(void 0===s&&(s=[]),null!=(e=ig_es_main_js_data)&&e.custom_post_types_categories?ig_es_main_js_data.custom_post_types_categories:{});return m("div",{class:"flex flex-col gap-4 px-8 py-2"},y.isPro()&&m("div",{class:""},m("label",{for:"total_posts"},"Number of Posts"),m("div",{class:"mt-2"},m("input",{type:"number",name:"meta[posts_count]",id:"posts_count",placeholder:"Enter no. of posts to include",value:t,onchange:function(e){e=e.target.value;a.setPostsCount(e)}}))),m("div",null,m("label",{for:"post-category"},"Post Category"),m("div",{class:"mt-2"},m(Xe,{name:"ig-es-post-category",id:"ig-es-post-category",options:n,selectedOptions:[i],changeHandler:function(e){g.details.formattedCategories.post=e,m.redraw()}})),"custom"===i&&m("div",{class:"mt-2"},m(Xe,{id:"post-categories",options:r,selectedOptions:l,multiple:!0,changeHandler:function(e){return g.details.formattedCategories.post=e}}))),m("div",null,m("label",{for:"post-types"},"Post Types"),m("div",{class:"mt-2"},o.map(function(t){return m("div",null,m("div",{class:"block pr-4 text-sm font-medium text-gray-600 pb-2"},m("input",{type:"checkbox",id:"es_custom_post_type_".concat(t.value),value:t.value,class:"es_custom_post_type form-checkbox",checked:-1<s.indexOf(t.value)?"checked":"",onchange:function(e){return a.setCustomPostType(e.target)}}),m("label",{for:"es_custom_post_type_".concat(t.value)},t.name),y.isPro()&&void 0!==c[t.value]&&-1<s.indexOf(t.value)&&m("div",{class:"es-post-type-categories"},m(Xe,{id:t.value+"-categories",options:Object.keys(c[t.value]).map(function(e){return{value:parseInt(e),name:c[t.value][e]}}),selectedOptions:g.details.formattedCategories[t.value],changeHandler:function(e){a.setCustomPostTypeTerms(t.value,e)},multiple:!0}))))}))),1<t&&m("div",null,m("h2",null,"Sort Order of Posts"),m("div",{class:"mt-2 flex flex-row gap-3 text-sm"},m("div",{class:"radio-section"},m("input",{type:"radio",name:"post_order",value:"descending",onchange:function(e){return a.setSortOrder(e.target.value)},checked:"descending"===g.details.meta.rules.sorting_orders[0]?"checked":""}),m("span",{class:"ml-1"},"Newest First")),m("div",{class:"radio-section"},m("input",{type:"radio",name:"post_order",value:"ascending",onchange:function(e){return a.setSortOrder(e.target.value)},checked:"ascending"===g.details.meta.rules.sorting_orders[0]?"checked":""}),m("span",{class:"ml-1"},"Oldest First")))))}}])&&Ke(t.prototype,a),n&&Ke(t,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();function et(e){return(et="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function tt(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,at(n.key),n)}}function at(e){e=function(e,t){if("object"!==et(e)||null===e)return e;var a=e[Symbol.toPrimitive];if(void 0===a)return("string"===t?String:Number)(e);a=a.call(e,t||"default");if("object"!==et(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}(e,"string");return"symbol"===et(e)?e:String(e)}var nt=function(){function n(){var e,t,a;if(!(this instanceof n))throw new TypeError("Cannot call a class as a function");e=this,a="post_setting",(t=at(t="activeTab"))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a}var e,t,a;return e=n,(t=[{key:"setActiveTab",value:function(e){this.activeTab=e}},{key:"view",value:function(){var e=this,t="tags_tab",a="post_setting",n=g.details,i=n.type===ig_es_main_js_data.post_notification_campaign_type||n.type===ig_es_main_js_data.post_digest_campaign_type;return m("[",null,i&&m("div",null,m("nav",null,m("div",{class:"links w-full text-center"},m("a",{onclick:function(){return e.setActiveTab(t)},class:"cursor-pointer ig-es-campaign-sidebar-nav-menu ig-es-campaign-tags-nav w-1/2 ".concat(this.activeTab===t?"active":"")},"Tags"),m("a",{onclick:function(){return e.setActiveTab(a)},class:"cursor-pointer ig-es-campaign-sidebar-nav-menu  ig-es-post-settings-nav w-1/2 ".concat(this.activeTab===a?"active":"")},"Post Settings")))),m("div",{class:"nav-child-sections"},m("div",{id:"ig-es-campaign-tags-section",class:"nav-child ".concat(this.activeTab!==t&&i?"hidden":"active")},m(Je,{campaignType:n.type})),i&&m("div",{id:"ig-es-post-settings-section",class:"nav-child ".concat(this.activeTab===a?"active":"hidden")},i&&m($e,null))))}}])&&tt(e.prototype,t),a&&tt(e,a),Object.defineProperty(e,"prototype",{writable:!1}),n}();function it(e){return(it="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function rt(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,function(e){e=function(e,t){if("object"!==it(e)||null===e)return e;var a=e[Symbol.toPrimitive];if(void 0===a)return("string"===t?String:Number)(e);a=a.call(e,t||"default");if("object"!==it(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}(e,"string");return"symbol"===it(e)?e:String(e)}(n.key),n)}}var lt=function(){function e(){if(!(this instanceof e))throw new TypeError("Cannot call a class as a function")}var t,a,n;return t=e,(a=[{key:"view",value:function(e){var t=e.attrs,e=void 0!==t.customCSS?t.customCSS:'<style type="text/css">\n</style>';return m("div",{class:"es-classic-css"},m("label",null,__("Custom CSS","email-subscribers")),m("textarea",{id:"es-campaign-css",name:"css",class:"w-full",rows:"5",onchange:function(e){return t.onChangeHandler(e.target.value)}},e))}}])&&rt(t.prototype,a),n&&rt(t,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();function ot(e){return(ot="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function st(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,ct(n.key),n)}}function ct(e){e=function(e,t){if("object"!==ot(e)||null===e)return e;var a=e[Symbol.toPrimitive];if(void 0===a)return("string"===t?String:Number)(e);a=a.call(e,t||"default");if("object"!==ot(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}(e,"string");return"symbol"===ot(e)?e:String(e)}var ut=function(){function n(){var e,t,a;if(!(this instanceof n))throw new TypeError("Cannot call a class as a function");e=this,a=!(t="showTemplateActionDropdown"),(t=ct(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a}var e,t,a;return e=n,(t=[{key:"oncreate",value:function(e){e=e.attrs;this.switchTab=e.switchTab}},{key:"toggleActionsDropdown",value:function(){this.showTemplateActionDropdown=!this.showTemplateActionDropdown}},{key:"saveAsDraft",value:function(){g.details.status=0,g.saveCamapign(),this.toggleActionsDropdown()}},{key:"saveAndContinue",value:function(){this.toggleActionsDropdown(),this.switchTab("publish")}},{key:"view",value:function(e){var t=this;e.attrs;return m("div",{class:"relative inline-block text-left w-auto dropdown"},m("div",null,m("button",{type:"button",id:"menu-button",class:"primary text-white text-center inline-flex items-center menu-button","aria-expanded":"false","aria-haspopup":"true",onclick:function(){return t.toggleActionsDropdown()}},m("span",null,"Save"),m("svg",{class:"w-2.5 h-2.5 ml-2.5","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 10 6"},m("path",{stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"m1 1 4 4 4-4"})))),m("div",{class:"".concat("absolute font-normal text-left dropdown-menu scale-95 z-50"," ").concat(this.showTemplateActionDropdown?"":"hidden opacity-0"),role:"menu","aria-orientation":"vertical","aria-labelledby":"menu-button",tabindex:"-1",id:"dropdown-menu"},m("div",null,m("a",{href:"#",onclick:function(e){e.preventDefault(),t.saveAndContinue()}},"Save & Continue")),m("div",null,m("a",{href:"#",onclick:function(e){e.preventDefault(),t.saveAsDraft()}},"Save As Draft"))))}}])&&st(e.prototype,t),a&&st(e,a),Object.defineProperty(e,"prototype",{writable:!1}),n}(),A={showAllTags:"no",toggleTags:function(){A.showAllTags="yes"===A.showAllTags?"no":"yes"},view:function(e){e=e.attrs.campaignType,e=y.getCampaignWiseTags(e);return 0===e.length?"":m("div",{class:"all-tags"},m("div",{class:"flex flex-col gap-3"},m("ul",{class:"primary-list flex flex-wrap gap-3"},0<e.length&&e.filter(function(e,t){return t<5}).map(function(e){return m("li",null,m("span",null,e))})),m("ul",{class:"secondary-list flex flex-wrap gap-3 ".concat("no"===A.showAllTags?"hidden":"")},0<e.length&&e.filter(function(e,t){return 5<=t}).map(function(e){return m("li",null,m("span",null,e))}))),m("div",{class:"flex flex-shrink-0"},m("a",{href:"#",id:"view-all-tags","data-dropdown-toggle":"dropdown",class:"text-xs text-gray-900  text-center inline-flex items-center",onclick:function(e){e.preventDefault(),A.toggleTags()}},"no"===A.showAllTags&&m("[",null,m("span",null,__("View All Tags","email-subscribers")),m("svg",{class:"w-2.5 h-2.5 ml-2.5 transition-transform transform","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 10 6"},m("path",{stroke:"#575362","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"m1 1 4 4 4-4"}))),"yes"===A.showAllTags&&m("[",null,m("span",null,__("Hide Tags","email-subscribers")),m("svg",{class:"w-2.5 h-2.5 ml-2.5 transition-transform transform","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 10 6"},m("path",{stroke:"#575362","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"m1 1 4 4 4-4"}))))))}},mt=A;function pt(e){return(pt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function dt(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,function(e){e=function(e,t){if("object"!==pt(e)||null===e)return e;var a=e[Symbol.toPrimitive];if(void 0===a)return("string"===t?String:Number)(e);a=a.call(e,t||"default");if("object"!==pt(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}(e,"string");return"symbol"===pt(e)?e:String(e)}(n.key),n)}}var ft=function(){function e(){if(!(this instanceof e))throw new TypeError("Cannot call a class as a function")}var t,a,n;return t=e,(a=[{key:"switchEditor",value:function(){var e=g.details.meta.editor_type===ig_es_campaign_editor_data.dndEditor;g.details.meta.editor_type=e?ig_es_campaign_editor_data.classicEditor:ig_es_campaign_editor_data.dndEditor}},{key:"updateContent",value:function(e){g.details.body=e}},{key:"updateCustomCSS",value:function(e){void 0===g.details.meta&&(g.details.meta={}),g.details.meta.es_custom_css=e}},{key:"toggleDropdown",value:function(){this.dropdownVisible=!this.dropdownVisible}},{key:"view",value:function(e){e.attrs;var e=g.details,t=e.type,a=e.meta.editor_type===ig_es_campaign_editor_data.dndEditor,n=a?e.meta.dnd_editor_data:e.body;return m("div",{class:"flex justify-between w-full"},m("div",{id:"campaign-content",class:"template-editor h-screen"},m("div",{class:"flex flex-col gap-4 px-5 pt-5"},m("div",null,m("label",{for:"Subject"},"Subject"),m("div",{class:"mt-2"},m("input",{type:"text",name:"subject",id:"subject",placeholder:"Subject line goes here {{post.title}}",value:g.details.subject||"",onchange:function(e){return g.details.subject=e.target.value}}))),m(mt,{campaignType:t})),m("div",{class:"px-5"},m("div",null,m("label",{for:"Preheader"},"Preheader"),m("div",{class:"mt-2"},m("input",{type:"text",name:"Preheader",id:"Preheader",placeholder:"Enter Preheader",value:g.details.meta.preheader||"",onchange:function(e){return g.details.meta.preheader=e.target.value}})))),m("div",{class:"template-preview w-full"},a?m(Se,{campaignType:t,content:n}):"",a?"":m(Ue,{campaignType:t,content:n,onRemove:this.updateContent}),a||"pro"!==ig_es_main_js_data.es_plan?"":m(lt,{customCSS:null==(n=e.meta)?void 0:n.es_custom_css,onChangeHandler:this.updateCustomCSS}))),m("div",{class:"sidebar"},m("div",{class:"switch"},m("p",null,"Switch To ",a?__("Classic Editor","email-subscribers"):__("Drag & Drop Editor","email-subscribers")," "),m("a",{class:"cursor-pointer",onclick:this.switchEditor},"Switch")),m("div",{class:"w-full"},a?m(H,{campaignType:t}):"",a?"":m(nt,{campaignType:t}))))}}])&&dt(t.prototype,a),n&&dt(t,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();function gt(e){return(gt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function yt(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,function(e){e=function(e,t){if("object"!==gt(e)||null===e)return e;var a=e[Symbol.toPrimitive];if(void 0===a)return("string"===t?String:Number)(e);a=a.call(e,t||"default");if("object"!==gt(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}(e,"string");return"symbol"===gt(e)?e:String(e)}(n.key),n)}}var vt=function(){function e(){if(!(this instanceof e))throw new TypeError("Cannot call a class as a function")}var t,a,n;return t=e,(a=[{key:"view",value:function(){return void 0===g.details.scheduling_option&&(g.details.scheduling_option="schedule_now"),m("div",{class:"flex flex-col gap-4"},m("div",null,m("h2",null,"Send Options")),m("div",{class:"flex flex-row space-x-4 justify-between rounded-sm"},m("div",{class:"flex flex-row space-x-3 justify-start bg-white p-4 rounded-sm w-full"},m("div",null,m("label",{class:"relative inline-flex items-center cursor-pointer"},m("input",{type:"radio",value:g.details.scheduling_option,id:"schedule_now",oninput:function(e){g.details.scheduling_option="schedule_now"},name:"schedule_option",class:"w-6 h-6 text-purple-600 bg-gray-100 border-gray-300 focus:ring-purple-500 dark:focus:ring-purple-600 dark:ring-offset-gray-800 focus:ring-2 dark:bg-gray-700 dark:border-gray-600",style:"width:25px;height:25px;",checked:"schedule_now"===g.details.scheduling_option?"checked":""}))),m("div",null,m("span",{class:"text-sm"},"Send Now"))),m("div",{class:"flex flex-row space-x-3 justify-start bg-white p-4 rounded-sm w-full"},m("div",null,m("label",{class:"relative inline-flex items-center cursor-pointer"},m("input",{type:"radio",value:g.details.scheduling_option,id:"schedule_later",oninput:function(e){g.details.scheduling_option="schedule_later"},name:"schedule_option",class:"w-6 h-6 text-purple-600 bg-gray-100 border-gray-300 focus:ring-purple-500 dark:focus:ring-purple-600 dark:ring-offset-gray-800 focus:ring-2 dark:bg-gray-700 dark:border-gray-600",style:"width:25px;height:25px;",checked:"schedule_later"===g.details.scheduling_option?"checked":""}))),m("div",null,m("span",{class:"text-sm"},"Schedule For Later")))),"schedule_later"===g.details.scheduling_option&&m("div",{class:"flex",style:"padding-left: 26.6rem;"},m("span",{class:"pr-4"},m("input",{type:"date",value:g.details.es_schedule_date,name:"",id:"",class:"w-48 h-10",oninput:function(e){g.details.es_schedule_date=e.target.value}})),m("span",null,m("input",{type:"time",value:g.details.es_schedule_time,name:"",id:"",class:"w-48 h-10",oninput:function(e){g.details.es_schedule_time=e.target.value}}))))}}])&&yt(t.prototype,a),n&&yt(t,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();function bt(e){return(bt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ht(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,function(e){e=function(e,t){if("object"!==bt(e)||null===e)return e;var a=e[Symbol.toPrimitive];if(void 0===a)return("string"===t?String:Number)(e);a=a.call(e,t||"default");if("object"!==bt(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}(e,"string");return"symbol"===bt(e)?e:String(e)}(n.key),n)}}var _t=function(){function e(){if(!(this instanceof e))throw new TypeError("Cannot call a class as a function")}var t,a,n;return t=e,(a=[{key:"view",value:function(){return m("div",{class:"flex flex-col gap-4"},m("div",null,m("h2",null,__("Archive Settings","email-subscribers"))),m("div",{class:"flex flex-row space-x-4 justify-between rounded-sm"},m("div",{class:"flex flex-row space-x-3 justify-start bg-white p-4 rounded-sm w-full"},m("div",null,m("label",{class:"relative inline-flex items-center cursor-pointer"},m("input",{type:"checkbox",value:"",class:"sr-only peer",onchange:function(e){g.details.meta.enable_archive=e.target.checked?"yes":"no"}}),m("div",{class:"w-11 h-6 bg-gray-200 rounded-full peer  dark:bg-gray-700 peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-0.5 after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all dark:border-gray-600 peer-checked:bg-primary"}))),m("div",null,m("span",{class:"text-sm"},__("Show In Archive","email-subscribers"))))),m("div",{class:"h-px border border-lighter-gray"}))}}])&&ht(t.prototype,a),n&&ht(t,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();function wt(e){return(wt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function kt(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,function(e){e=function(e,t){if("object"!==wt(e)||null===e)return e;var a=e[Symbol.toPrimitive];if(void 0===a)return("string"===t?String:Number)(e);a=a.call(e,t||"default");if("object"!==wt(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}(e,"string");return"symbol"===wt(e)?e:String(e)}(n.key),n)}}var Ct=function(){function e(){if(!(this instanceof e))throw new TypeError("Cannot call a class as a function")}var t,a,n;return t=e,(a=[{key:"toggleOpenTracking",value:function(){"yes"===g.details.meta.enable_open_tracking?g.details.meta.enable_open_tracking="no":g.details.meta.enable_open_tracking="yes"}},{key:"toggleLinkTracking",value:function(){"yes"===g.details.meta.enable_link_tracking?g.details.meta.enable_link_tracking="no":g.details.meta.enable_link_tracking="yes"}},{key:"toggleUTMTracking",value:function(){"yes"===g.details.meta.enable_utm_tracking?(g.details.meta.enable_utm_tracking="no",document.getElementById("es_utm_campaign_container").style.display="none"):(g.details.meta.enable_utm_tracking="yes",document.getElementById("es_utm_campaign_container").style.display="block")}},{key:"view",value:function(e){var t=this;e.attrs;return m("div",{class:"flex flex-col gap-4"},m("div",null,m("h2",null,"Tracking")),m("div",{class:"flex flex-row space-x-4 justify-between rounded-sm"},m("div",{class:"flex flex-row space-x-3 justify-start bg-white p-4 rounded-sm w-full"},m("div",null,m("label",{class:"relative inline-flex items-center cursor-pointer"},m("input",{type:"checkbox",value:g.details.meta.enable_open_tracking||"",id:"enable_open_tracking",class:"sr-only peer",onchange:function(e){e.preventDefault(),t.toggleOpenTracking()},checked:"yes"===g.details.meta.enable_open_tracking}),m("div",{class:"w-11 h-6 bg-gray-200 rounded-full peer  dark:bg-gray-700 peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-0.5 after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all dark:border-gray-600 peer-checked:bg-primary"}))),m("div",null,m("span",{class:"text-sm"},"Open Tracking"))),y.isPro()?m("div",{class:"flex flex-row space-x-3 justify-start bg-white p-4 rounded-sm w-full"},m("div",null,m("label",{class:"relative inline-flex items-center cursor-pointer"},m("input",{type:"checkbox",value:g.details.meta.enable_link_tracking||"",id:"enable_link_tracking",class:"sr-only peer",onchange:function(e){e.preventDefault(),t.toggleLinkTracking()},checked:"yes"===g.details.meta.enable_link_tracking}),m("div",{class:"w-11 h-6 bg-gray-200 rounded-full peer  dark:bg-gray-700 peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-0.5 after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all dark:border-gray-600 peer-checked:bg-primary"}))),m("div",null,m("span",{class:"text-sm"},"Link Tracking"))):"",y.isPro()?m("div",{class:"flex flex-row space-x-3 justify-start bg-white p-4 rounded-sm w-full"},m("div",null,m("label",{class:"relative inline-flex items-center cursor-pointer"},m("input",{type:"checkbox",value:g.details.meta.enable_utm_tracking||"",id:"enable_utm_tracking",class:"sr-only peer",onchange:function(e){e.preventDefault(),t.toggleUTMTracking()},checked:"yes"===g.details.meta.enable_utm_tracking}),m("div",{class:"w-11 h-6 bg-gray-200 rounded-full peer  dark:bg-gray-700 peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-0.5 after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all dark:border-gray-600 peer-checked:bg-primary"}))),m("div",null,m("span",{class:"text-sm"},"UTM Tracking"))):"",y.isPro()?m("div",{class:"flex flex-row space-x-3 justify-start bg-white p-4 rounded-sm w-full",id:"es_utm_campaign_container",style:"display: none;"},m("div",null),m("div",null),m("div",{id:"campaignInput"},m("input",{name:"es_utm_campaign",placeholder:"Campaign Name",id:"es_utm_campaign",class:"form-input border-gray-400 text-sm relative rounded-md shadow-sm block w-2/4 sm:leading-5",oninput:function(e){g.details.meta.es_utm_campaign=e.target.value},value:g.details.meta.es_utm_campaign||""}))):""))}}])&&kt(t.prototype,a),n&&kt(t,n),Object.defineProperty(t,"prototype",{writable:!1}),e}(),xt={options:{0:"12:00 am",3600:"1:00 am",7200:"2:00 am",10800:"3:00 am",14400:"4:00 am",18e3:"5:00 am",21600:"6:00 am",25200:"7:00 am",28800:"8:00 am",32400:"9:00 am",36e3:"10:00 am",39600:"11:00 am",43200:"12:00 pm",46800:"1:00 pm",50400:"2:00 pm",54e3:"3:00 pm",57600:"4:00 pm",61200:"5:00 pm",64800:"6:00 pm",68400:"7:00 pm",72e3:"8:00 pm",75600:"9:00 pm",79200:"10:00 pm",82800:"11:00 pm"},view:function(e){var t=e.attrs,a=xt.options,n=t.value;return m("select",{onchange:function(e){return t.changeHandler(e.target.value)}},Object.keys(a).map(function(e){return m("option",{value:e,selected:e===n?"selected":""},a[e])}))}},St=xt;function jt(e){return(jt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Tt(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Dt(n.key),n)}}function Pt(e,t,a){(t=Dt(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a}function Dt(e){e=function(e,t){if("object"!==jt(e)||null===e)return e;var a=e[Symbol.toPrimitive];if(void 0===a)return("string"===t?String:Number)(e);a=a.call(e,t||"default");if("object"!==jt(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}(e,"string");return"symbol"===jt(e)?e:String(e)}var Ot=function(){function e(){if(!(this instanceof e))throw new TypeError("Cannot call a class as a function");Pt(this,"timeFrameOptions",{immediately:__("Immediately","email-subscribers"),daily:__("Every Day","email-subscribers"),weekly:__("Every Week On","email-subscribers"),monthly:__("Every Month On","email-subscribers")}),Pt(this,"weekDays",[__("Sunday","email-subscribers"),__("Monday","email-subscribers"),__("Tuesday","email-subscribers"),__("Wednesday","email-subscribers"),__("Thursday","email-subscribers"),__("Friday","email-subscribers"),__("Saturday","email-subscribers")]),Pt(this,"monthDays",{1:"1st",2:"2nd",3:"3rd",4:"4th",5:"5th",6:"6th",7:"7th",8:"8th",9:"9th",10:"10th",11:"11th",12:"12th",13:"13th",14:"14th",15:"15th",16:"16th",17:"17th",18:"18th",19:"19th",20:"20th",21:"21th",22:"22th",23:"23th",24:"24th",25:"25th",26:"26th",27:"27th",28:"28th",30:"30th"})}var t,a,n;return t=e,(a=[{key:"oninit",value:function(){this.setDefaultValues()}},{key:"setDefaultValues",value:function(){void 0===g.details.meta.rules&&(g.details.meta.rules={}),void 0===g.details.meta.rules.time_frame&&(g.details.meta.rules.time_frame="immediately"),void 0===g.details.meta.rules.week_day&&(g.details.meta.rules.week_day=0),void 0===g.details.meta.rules.month_day&&(g.details.meta.rules.month_day=1)}},{key:"setTimeFrame",value:function(e){g.details.meta.rules.time_frame=e,g.details.type="immediately"===e?ig_es_main_js_data.post_notification_campaign_type:ig_es_main_js_data.post_digest_campaign_type,this.resetNextRunDate()}},{key:"setWeekDay",value:function(e){g.details.meta.rules.week_day=e,this.resetNextRunDate()}},{key:"setTime",value:function(e){g.details.meta.rules.time_of_day=e,this.resetNextRunDate()}},{key:"setMonthDay",value:function(e){g.details.meta.rules.month_day=e,this.resetNextRunDate()}},{key:"resetNextRunDate",value:function(){g.details.meta.next_run="",g.details.meta.scheduled=0}},{key:"view",value:function(){var t=this,e=null==(e=g.details)||null==(e=e.meta)||null==(e=e.rules)?void 0:e.time_frame,a=null==(a=g.details)||null==(a=a.meta)||null==(a=a.rules)?void 0:a.week_day,n=null==(n=g.details)||null==(n=n.meta)||null==(n=n.rules)?void 0:n.time_of_day,i=null==(i=g.details)||null==(i=i.meta)||null==(i=i.rules)?void 0:i.month_day;return g.details.type===ig_es_main_js_data.post_digest_campaign_type&&delete this.timeFrameOptions.immediately,m("[",null,m("div",{class:"flex flex-col gap-4"},m("div",null,m("h2",null,"When To Send")),m("div",{class:"flex flex-col space-y-4 justify-start rounded-sm"},m("div",{class:"flex space-x-4 items-center"},m("div",{class:""},m("div",{class:"w-full"},m("select",{class:"w-full text-sm",onchange:function(e){return t.setTimeFrame(e.target.value)},value:e},Object.keys(this.timeFrameOptions).map(function(e){return m("option",{value:e,class:"bg-white"},t.timeFrameOptions[e])})))),"immediately"===e&&m("div",{class:"items-center"},m("p",null,"After post is published")),"daily"===e&&m("[",null,m("div",{class:"items-center"},m("p",null,"At")),m("div",null,m(St,{changeHandler:this.setTime.bind(this),value:n}))),"weekly"===e&&m("[",null,m("div",{class:""},m("div",{class:"w-full"},m("select",{class:"w-16 text-sm",onchange:function(e){return t.setWeekDay(e.target.value)},value:a},this.weekDays.map(function(e,t){return m("option",{value:t,class:"bg-white"},e)})))),m("div",{class:"items-center"},m("p",null,"At")),m("div",null,m(St,{changeHandler:this.setTime.bind(this),value:n}))),"monthly"===e&&m("[",null,m("div",{class:""},m("div",{class:"w-full"},m("select",{class:"w-16 text-sm",value:i,onchange:function(e){return t.setMonthDay(e.target.value)}},Object.keys(this.monthDays).map(function(e){return m("option",{value:e,class:"bg-white"},t.monthDays[e])})))),m("div",{class:"items-center"},m("p",null,"At")),m("div",null,m(St,{changeHandler:this.setTime.bind(this),value:n})))))),m("div",{class:"h-px border border-lighter-gray"}))}}])&&Tt(t.prototype,a),n&&Tt(t,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();function Et(e){return(Et="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Lt(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,function(e){e=function(e,t){if("object"!==Et(e)||null===e)return e;var a=e[Symbol.toPrimitive];if(void 0===a)return("string"===t?String:Number)(e);a=a.call(e,t||"default");if("object"!==Et(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}(e,"string");return"symbol"===Et(e)?e:String(e)}(n.key),n)}}var Mt=function(){function t(e){if(!(this instanceof t))throw new TypeError("Cannot call a class as a function");this.ruleRow=e.attrs.ruleRow,this.field=e.attrs.ruleRow.field,this.index=e.attrs.index,this.groupIndex=e.attrs.groupIndex,this.group=e.attrs.group,this.operator=e.attrs.ruleRow.operator,this.value=e.attrs.ruleRow.value,this.callbackToParent=e.attrs.callbackToParent,this.operators=g.allRules[this.field].operators,this.valueFieldType=g.allRules[this.field].value_field_type,this.isOnlyOne=e.attrs.isOnlyOne,this.isOnlyOneGroup=e.attrs.isOnlyOneGroup,this.select_id=Math.random().toString(36).substring(7)}var e,a,n;return e=t,(a=[{key:"oncreate",value:function(e){"select"!==this.valueFieldType&&this.valueFieldType,this.intializeSelectwoo()}},{key:"onupdate",value:function(e){this.index=e.attrs.index,this.intializeSelectwoo()}},{key:"getDetails",value:function(){return{field:this.field,operator:this.operator,value:this.value}}},{key:"refreshValues",value:function(e){this.value="",this.field=e,this.operators=g.allRules[this.field].operators,this.valueFieldType=g.allRules[this.field].value_field_type,this.renderValues()}},{key:"getRowID",value:function(){return"rule-row-"+this.groupIndex+"-"+this.index}},{key:"intializeSelectwoo",value:function(){var t=this;jQuery("#"+this.getRowID()+" select.rule-value-field").data("select2")&&jQuery("#"+this.getRowID()+" select.rule-value-field").select2("destroy"),jQuery("#"+this.getRowID()+" .select2-container").remove(),jQuery("#"+this.getRowID()+" select.rule-value-field").select2(),jQuery(document).on("change","#"+this.getRowID()+" .rule-value-field",function(e){t.value=jQuery(e.target).val(),t.informParent()})}},{key:"renderFieldSelect",value:function(e){var t=this,n=ig_es_main_js_data.recipient_rules,i=this.field||"";return m("select",{class:"py-1 pl-3 pr-8 text-sm font-medium leading-5 text-gray-700 bg-transparent form-select",onchange:function(e){t.refreshValues(e.target.value)}},Object.keys(n).map(function(a,e){return m("optgroup",{label:a},Object.keys(n[a]).map(function(e,t){return m("option",{value:e,selected:i===e?"selected":""},n[a][e].title)}))}))}},{key:"renderOperatorSelect",value:function(e){var t,a=this;return this.operators&&0!==this.operators.length?(t=this.operator||"",m("select",{class:"py-1 pl-3 pr-8 text-sm leading-5 text-gray-500 bg-transparent form-select",onchange:function(e){a.listenOpChange(e)}},this.operators.map(function(e){return m("option",{value:e.op,selected:t===e.op?"selected":""},e.label)}))):(this.operator="is","")}},{key:"listenOpChange",value:function(e){this.operator=e.target.value,this.informParent()}},{key:"informParent",value:function(){this.callbackToParent(this.getDetails(),"update",this.index)}},{key:"deleteRule",value:function(){this.callbackToParent(null,"delete",this.index)}},{key:"renderValues",value:function(e){var t=this,a=g.allRules[this.field].allowed_values||{},n=g.allRules[this.field].value_field_type;return m("div",{class:"flex-1 relative"},("text"===n||"date"===n)&&m("input",{type:n,class:"rule-value-field w-full max-w-fullpy-1 text-sm leading-5 text-gray-700 form-input",value:this.value}),"number"===n&&m("input",{type:"number",min:g.allRules[this.field].min_value,max:g.allRules[this.field].max_value,class:"rule-value-field w-full max-w-fullpy-1 text-sm leading-5 text-gray-700 form-input",value:this.value}),"select"===n&&m("select",{class:"rule-value-field max-w-full py-1 pl-3 pr-8 text-sm leading-5 text-gray-500 bg-transparent form-select w-full block",value:this.value},Object.keys(a).map(function(e){return m("option",{value:e},a[e])})),"multi-select"===n&&m("select",{class:"rule-value-field max-w-full py-1 pl-3 pr-8 text-sm leading-5 text-gray-500 bg-transparent form-select w-full block",multiple:!0},Object.keys(a).map(function(e){return m("option",{value:e,selected:t.value.includes(e)?"selected":""},a[e])})))}},{key:"addConditionRow",value:function(e){var t=this;return m("[",null,m("div",{id:this.getRowID(),class:"flex space-x-4"},m("div",{class:"w-full"},this.renderFieldSelect(e)),this.renderOperatorSelect(e),m("div",{class:"w-full"},m("div",{class:"dropdown"},m("div",null,this.renderValues(e)))),m("div",{class:"cta"},m("button",{href:"#",onclick:function(){t.deleteRule()},class:(this.isOnlyOne&&this.isOnlyOneGroup?"invisible":"")+" cross"},m("svg",{class:"h-5",width:"30",height:"30",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},m("path",{d:"M12.6071 3.03125H10.5844L9.7496 1.59033C9.51585 1.22412 9.15491 1 8.74241 1H6.25759C5.84509 1 5.46205 1.22412 5.25089 1.59033L4.41558 3.03125H2.39286C2.17494 3.03125 2 3.21229 2 3.4375V3.84375C2 4.06973 2.17494 4.25 2.39286 4.25H2.78571V12.375C2.78571 13.2726 3.48917 14 4.35714 14H10.6429C11.5108 14 12.2143 13.2726 12.2143 12.375V4.25H12.6071C12.8257 4.25 13 4.06973 13 3.84375V3.4375C13 3.21229 12.8257 3.03125 12.6071 3.03125ZM6.22076 2.29188C6.24531 2.24744 6.29442 2.21875 6.34598 2.21875H8.65402C8.70619 2.21875 8.7553 2.24731 8.77986 2.29175L9.20893 3.03125H5.79107L6.22076 2.29188ZM10.6429 12.7812H4.35714C4.14016 12.7812 3.96429 12.5994 3.96429 12.375V4.25H11.0357V12.375C11.0357 12.5984 10.8589 12.7812 10.6429 12.7812ZM7.5 11.5625C7.71715 11.5625 7.89286 11.3808 7.89286 11.1562V5.875C7.89286 5.65045 7.71715 5.46875 7.5 5.46875C7.28285 5.46875 7.10714 5.65156 7.10714 5.875V11.1562C7.10714 11.3797 7.28393 11.5625 7.5 11.5625ZM5.53571 11.5625C5.75179 11.5625 5.92857 11.3797 5.92857 11.1562V5.875C5.92857 5.65045 5.75287 5.46875 5.53571 5.46875C5.31856 5.46875 5.14286 5.65156 5.14286 5.875V11.1562C5.14286 11.3797 5.31964 11.5625 5.53571 11.5625ZM9.46429 11.5625C9.68144 11.5625 9.85714 11.3808 9.85714 11.1562V5.875C9.85714 5.65045 9.68144 5.46875 9.46429 5.46875C9.24713 5.46875 9.07143 5.65156 9.07143 5.875V11.1562C9.07143 11.3797 9.24821 11.5625 9.46429 11.5625Z",fill:"#575772"}))))))}},{key:"view",value:function(e){return this.isOnlyOne=e.attrs.isOnlyOne,m("[",null,this.addConditionRow(this.ruleRow))}}])&&Lt(e.prototype,a),n&&Lt(e,n),Object.defineProperty(e,"prototype",{writable:!1}),t}();function Ht(e){return(Ht="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function At(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,function(e){e=function(e,t){if("object"!==Ht(e)||null===e)return e;var a=e[Symbol.toPrimitive];if(void 0===a)return("string"===t?String:Number)(e);a=a.call(e,t||"default");if("object"!==Ht(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}(e,"string");return"symbol"===Ht(e)?e:String(e)}(n.key),n)}}var Nt=function(){function t(e){if(!(this instanceof t))throw new TypeError("Cannot call a class as a function");this.callbackToParent=e.attrs.callbackToParent,this.index=e.attrs.index,this.rules=e.attrs.ruleGroup,this.isOnlyOne=e.attrs.isOnlyOne}var e,a,n;return e=t,(a=[{key:"updateData",value:function(e,t,a){"update"==t?this.rules[a]=e:"delete"==t&&this.rules.splice(a,1),this.informParent()}},{key:"onupdate",value:function(e){this.index=e.attrs.index}},{key:"addNewRule",value:function(){var e=JSON.parse(JSON.stringify(g.ruleRow));this.rules.push(e),this.informParent()}},{key:"getDetails",value:function(){return this.rules}},{key:"informParent",value:function(){this.callbackToParent(this.getDetails(),"update",this.index)}},{key:"addNewRuleGroup",value:function(){this.callbackToParent(null,"add",null)}},{key:"deleteRuleGroup",value:function(){this.callbackToParent(null,"delete",this.index)}},{key:"view",value:function(e){var a=this;return m("div",{class:"flex flex-col space-y-4 justify-start bg-white p-4 rounded-sm"},this.rules.map(function(e,t){return"_lists__in"===e.field?e.field="list":"_lists__not_in"===e.field&&(e.field="list",e.operator="is_not"),m("[",null,0<t&&m("div",{class:"h-4 justify-start items-center gap-2 inline-flex"},m("div",{class:"grow shrink basis-0 h-px border border-dashed border-neutral-200"}),m("p",{class:"text-center"},"Or"),m("div",{class:"grow shrink basis-0 h-px border border-dashed border-neutral-200"})),m(Mt,{isOnlyOneGroup:a.isOnlyOne,isOnlyOne:1===a.rules.length,groupIndex:a.index,index:t,callbackToParent:a.updateData.bind(a),ruleRow:e}))}),m("div",null,y.isPro()&&m("button",{href:"#",class:"secondary",onclick:function(){a.addNewRule()}},"+ or")))}}])&&At(e.prototype,a),n&&At(e,n),Object.defineProperty(e,"prototype",{writable:!1}),t}();function Vt(e){return(Vt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function It(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,function(e){e=function(e,t){if("object"!==Vt(e)||null===e)return e;var a=e[Symbol.toPrimitive];if(void 0===a)return("string"===t?String:Number)(e);a=a.call(e,t||"default");if("object"!==Vt(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}(e,"string");return"symbol"===Vt(e)?e:String(e)}(n.key),n)}}var Ft=function(){function e(){if(!(this instanceof e))throw new TypeError("Cannot call a class as a function")}var t,a,n;return t=e,(a=[{key:"view",value:function(e){return m("div",{class:"hidden",id:"spam_score_modal"},m("div",{class:"fixed z-50 top-0 left-0 w-full h-full flex items-center justify-center",style:"background-color: rgba(0,0,0,.5);"},m("div",{class:"text-left bg-white h-auto p-2 md:max-w-xl md:p-2 lg:p-6 shadow-xl rounded mx-2 md:mx-0"},m("h3",{class:"text-2xl uppercase text-center text-gray-800"},"Spam score"),m("h3",{class:"es-spam-score text-4xl font-bold pb-1 text-center mt-8"}),m("div",{class:"es-logs es-spam-success",style:"display:none;"},"Awesome score. Your email is almost perfect."),m("div",{class:"es-logs es-spam-error text-base font-normal text-gray-500 pb-2 text-center pt-4 list-none",style:"display:none;"},"Ouch! your email needs improvement."),m("div",{class:"es-spam-error-log",style:"display:none;"},m("div",{class:"text-base font-normal text-gray-500 pb-2 list-none text-center"},"Here are some things to fix:"),m("ul",null)),m("div",{class:"flex justify-center mt-8"},m("button",{id:"close_score",class:"secondary",onclick:function(e){e.preventDefault(),g.closeSpamScoreModal()}},"Close")))))}}])&&It(t.prototype,a),n&&It(t,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();function qt(e){return(qt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Rt(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,function(e){e=function(e,t){if("object"!==qt(e)||null===e)return e;var a=e[Symbol.toPrimitive];if(void 0===a)return("string"===t?String:Number)(e);a=a.call(e,t||"default");if("object"!==qt(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}(e,"string");return"symbol"===qt(e)?e:String(e)}(n.key),n)}}var Bt=function(){function e(){if(!(this instanceof e))throw new TypeError("Cannot call a class as a function")}var t,a,n;return t=e,(a=[{key:"oncreate",value:function(){g.saveAndPreview(function(e){e.success?e.data.preview_html&&(g.details.id=e.data.id,g.previewHTML=e.data.preview_html,ig_es_load_iframe_preview(".campaign-preview",g.previewHTML)):alert(__("An error occured while processing the request","email-subscribers"))})}},{key:"view",value:function(){return m("div",{class:"campaign-preview w-full"})}}])&&Rt(t.prototype,a),n&&Rt(t,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();function Zt(e){return(Zt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Gt(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,function(e){e=function(e,t){if("object"!==Zt(e)||null===e)return e;var a=e[Symbol.toPrimitive];if(void 0===a)return("string"===t?String:Number)(e);a=a.call(e,t||"default");if("object"!==Zt(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}(e,"string");return"symbol"===Zt(e)?e:String(e)}(n.key),n)}}var zt=function(){function e(){if(!(this instanceof e))throw new TypeError("Cannot call a class as a function");this.initialize()}var t,a,n;return t=e,(a=[{key:"initialize",value:function(){var e,t=g.details;null!=t&&null!=(e=t.meta)&&e.list_conditions&&0<t.meta.list_conditions.length?this.ruleGroups=t.meta.list_conditions:this.ruleGroups=[g.ruleGroup]}},{key:"addNewRuleGroup",value:function(){var e=JSON.parse(JSON.stringify(g.ruleGroup));this.ruleGroups.push(e)}},{key:"updateData",value:function(e,t,a){"update"==t?0===e.length?this.ruleGroups.splice(a,1):this.ruleGroups[a]=e:"add"==t?this.addNewRuleGroup():"delete"==t&&this.ruleGroups.splice(a,1),g.details.meta.list_conditions=this.ruleGroups}},{key:"view",value:function(e){var a=this,e=(e.attrs,"newsletter"===g.details.type);return m("main",null,m(Ft,null),m("div",{class:"flex flex-col lg:flex-row justify-between w-full overflow-hidden mt-0"},m("div",{class:"dnd-editor template-editor bg-light-gray w-full"},m("div",{class:"flex flex-col gap-4"},m("div",null,m("h2",null,"Campain Details")),m("div",null,m("label",{for:"title"},"Title"),m("div",{class:"mt-2"},m("input",{type:"text",name:"title",id:"title",oninput:function(e){g.details.name=e.target.value},placeholder:"",value:g.details.name})))),m("div",{class:"h-px border border-lighter-gray"}),m("div",{class:"flex flex-col gap-4"},m("div",null,m("h2",null,"Sender Details")),m("div",{class:"flex space-x-4"},m("div",{class:"w-full"},m("label",{for:"name"},"From Name"),m("div",{class:"mt-2"},m("input",{type:"text",name:"name",id:"name",oninput:function(e){g.details.from_name=e.target.value},placeholder:"",value:g.details.from_name}))),m("div",{class:"w-full"},m("label",{for:"email"},"From Email"),m("div",{class:"mt-2"},m("input",{type:"email",name:"email",id:"email",oninput:function(e){g.details.from_email=e.target.value},placeholder:"",value:g.details.from_email})))),m("div",{class:"flex space-x-4"},m("div",{class:"w-full"},m("label",{for:"title"},"Reply To Name"),m("div",{class:"mt-2"},m("input",{type:"text",name:"title",id:"title",oninput:function(e){g.details.reply_to_name=e.target.value},placeholder:"",value:g.details.reply_to_name}))),m("div",{class:"w-full"},m("label",{for:"title"},"Reply To Email"),m("div",{class:"mt-2"},m("input",{type:"text",name:"title",id:"title",oninput:function(e){g.details.reply_to_email=e.target.value},placeholder:"",value:g.details.reply_to_email}))))),m("div",{class:"h-px border border-lighter-gray"}),m("div",{class:"flex flex-col gap-4"},m("div",null,m("h2",null,__("Recipients","email-subscribers"))),m("div",{class:"flex flex-col space-y-4 justify-start bg-white p-4 rounded-sm"},this.ruleGroups.map(function(e,t){return m("[",null,0<t&&m("div",{class:"h-4 justify-start items-center gap-2 inline-flex"},m("div",{class:"grow shrink basis-0 h-px border border-dashed border-neutral-200"}),m("p",{class:"text-center"},__("And","email-subscribers")),m("div",{class:"grow shrink basis-0 h-px border border-dashed border-neutral-200"})),m(Nt,{index:t,isOnlyOne:1===a.ruleGroups.length,callbackToParent:a.updateData.bind(a),ruleGroup:e}))})),m("div",null,y.isPro()&&m("button",{href:"#",class:"white",onclick:function(){return a.updateData(null,"add",null)}},"+ ",__("And","email-subscribers")))),m("div",{class:"h-px border border-lighter-gray"}),e&&y.isPro()?m(_t,null):"",e&&y.isPro()?m(vt,null):"",!e&&y.isPro()?m(Ot,null):"",m(Ct,null),y.isPro()&&m("[",null,m("div",{class:"h-px border border-lighter-gray"}),m("div",{class:"flex flex-col gap-4"},m("div",null,m("h2",null,"Email Authentication")),m("div",{class:"flex flex-row space-x-4 justify-between rounded-sm"},m("div",{class:"flex flex-row space-x-3 justify-between bg-white p-4 rounded-sm w-full"},m("div",null,m("span",{class:"text-sm",id:"spam_score"},"Get Spam Score"),m("span",{class:"text-sm hidden"},"Your Span Score is ",m("span",{class:"font-semibold"},"2.5"))),m("div",null,m("button",{class:"secondary",id:"spam_check",onclick:function(e){e.preventDefault(),g.getSpamScore(g.details)}},"Check"))),m("div",{class:"flex flex-row space-x-3 justify-between bg-white p-4 rounded-sm w-full"},m("div",null,m("span",{class:"text-sm"},"Email Authentication Score")),m("div",null,m("button",{class:"secondary",id:"spam_recheck",onclick:function(e){e.preventDefault(),window.open("?page=es_settings&btn=check_auth_header#tabs-email_sending","_blank").focus()}},"Check"))))))),m("aside",{class:"sidebar"},m("div",{class:"template-editor dnd-editor side-editor w-full"},m("div",null,m("h2",null,"Mail Preview")),m("div",null,m("div",null,m("label",{for:"Subject"},"Subject"),m("div",{class:"mt-2"},m("input",{type:"text",name:"subject",id:"subject",oninput:function(e){g.details.subject=e.target.value},placeholder:"Add subject here",value:g.details.subject||""})))),m("div",null,m("div",null,m("label",{for:"Preheader"},"Preheader"),m("div",{class:"mt-2"},m("input",{type:"text",name:"Preheader",id:"Preheader",oninput:function(e){g.details.preheader=e.target.value},placeholder:"Enter Preheader",value:g.details.preheader||""})))),m(Bt,null)))))}}])&&Gt(t.prototype,a),n&&Gt(t,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();function Ut(e){return(Ut="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Wt(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,function(e){e=function(e,t){if("object"!==Ut(e)||null===e)return e;var a=e[Symbol.toPrimitive];if(void 0===a)return("string"===t?String:Number)(e);a=a.call(e,t||"default");if("object"!==Ut(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}(e,"string");return"symbol"===Ut(e)?e:String(e)}(n.key),n)}}var Qt=function(){function t(){if(!(this instanceof t))throw new TypeError("Cannot call a class as a function");t.show=!1}var e,a,n;return e=t,(a=[{key:"view",value:function(e){return m("div",{class:"fixed z-50 top-0 left-0 w-full h-full flex items-center justify-center",style:"background-color: rgba(0,0,0,.5);"},m("div",{class:"form-fields ig-es-popup-container"},m("div",{class:"ig-es-popup-overlay"}),m("div",{class:"ig-es-popup",style:"padding:20px;height:250px;width:500px;border-radius:2px; z-index:99;"},m("h1",null,"Test Email"),m("div",{class:"ig-es-popup-close-container"},m("button",{href:"#",onclick:function(e){e.preventDefault(),t.show=!1},class:"cross"},m("svg",{class:"h-5",width:"25",height:"25",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},m("path",{d:"M5.04366 4.17217L7.49984 6.62835L9.94329 4.1849C9.99726 4.12745 10.0623 4.08149 10.1344 4.04978C10.2066 4.01807 10.2844 4.00127 10.3633 4.00037C10.532 4.00037 10.6939 4.06741 10.8132 4.18674C10.9325 4.30607 10.9996 4.46792 10.9996 4.63668C11.0011 4.71469 10.9866 4.79219 10.957 4.86441C10.9275 4.93663 10.8835 5.00204 10.8278 5.05665L8.3525 7.5001L10.8278 9.97537C10.9326 10.078 10.9941 10.2169 10.9996 10.3635C10.9996 10.5323 10.9325 10.6941 10.8132 10.8135C10.6939 10.9328 10.532 10.9998 10.3633 10.9998C10.2822 11.0032 10.2013 10.9897 10.1257 10.9601C10.0501 10.9305 9.98147 10.8855 9.9242 10.828L7.49984 8.37185L5.05002 10.8217C4.99626 10.8772 4.93203 10.9215 4.86104 10.9521C4.79005 10.9827 4.71371 10.9989 4.63642 10.9998C4.46766 10.9998 4.30581 10.9328 4.18648 10.8135C4.06714 10.6941 4.0001 10.5323 4.0001 10.3635C3.99862 10.2855 4.01309 10.208 4.04264 10.1358C4.07218 10.0636 4.11617 9.99816 4.17191 9.94355L6.64718 7.5001L4.17191 5.02483C4.06703 4.92223 4.00554 4.7833 4.0001 4.63668C4.0001 4.46792 4.06714 4.30607 4.18648 4.18674C4.30581 4.06741 4.46766 4.00037 4.63642 4.00037C4.78913 4.00228 4.93549 4.064 5.04366 4.17217Z",fill:"#575362"})))),m("div",{class:"p-8 pt-1"},m("div",{style:"background-color:#F8F8F8;padding:20px;"},m("label",{for:"email",class:""},"Email Id"),m("input",{type:"email",id:"es_test_email",class:"",placeholder:"Enter email here",value:g.details.es_admin_email,required:!0})),m("div",{style:"display: inline-block; float:right; padding-top: 50px; text-align: center;"},m("button",{href:"#",onclick:function(e){e.preventDefault(),t.show=!1},class:"secondary",style:"margin-right: 10px;"},"Cancel"),m("button",{href:"#",onclick:function(e){e.preventDefault(),g.testCamapign(g.details)},class:"primary"},"Send"))))))}}])&&Wt(e.prototype,a),n&&Wt(e,n),Object.defineProperty(e,"prototype",{writable:!1}),t}();function Jt(e){return(Jt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Xt(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Yt(n.key),n)}}function Yt(e){e=function(e,t){if("object"!==Jt(e)||null===e)return e;var a=e[Symbol.toPrimitive];if(void 0===a)return("string"===t?String:Number)(e);a=a.call(e,t||"default");if("object"!==Jt(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}(e,"string");return"symbol"===Jt(e)?e:String(e)}var Kt=function(){function i(e){var t,a,n,e=e.attrs;if(!(this instanceof i))throw new TypeError("Cannot call a class as a function");t=this,n="design",(a=Yt(a="activeTab"))in t?Object.defineProperty(t,a,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[a]=n,this.initialize(e)}var e,t,a;return e=i,(t=[{key:"initialize",value:function(e){var t;this.model=new g,g.details.id||(0<(t=void 0!==e.campaignId?e.campaignId:0)?g.getCampaign(t):(e=this.getCampaignDefaultData(e),g.setCurrentCampaign(t,e)))}},{key:"switchTab",value:function(e){this.activeTab=e}},{key:"getCampaignDefaultData",value:function(e){var t=void 0!==e.campaignType?e.campaignType:ig_es_main_js_data.post_notification_campaign_type,e=void 0!==e.editorType?e.editorType:ig_es_main_js_data.dnd_editor_slug,a=e===ig_es_main_js_data.dnd_editor_slug,n=y.getCampaignDefaultSubject(t),i=y.getCampaignDefaultContent(t),t={type:t,subject:n,body:i[ig_es_main_js_data.classic_editor_slug],meta:{editor_type:e}};return a&&(t.meta.dnd_editor_data=i[ig_es_main_js_data.dnd_editor_slug]),t}},{key:"view",value:function(e){var t=this;e.attr;return m("div",{class:"absolute w-full bg-white"},Qt.show?m(Qt,null):null,d.showLoader?m(d,null):null,l.show?m(l,null):null,m("div",{class:"sticky top-0 z-10"},m("header",null,m("nav",{"aria-label":"Global"},m("div",{class:"brand-logo"},m("span",null,m("img",{src:ig_es_main_js_data.image_path+"lite/admin/images/new/brand-logo/IG LOGO 192X192.svg",alt:"brand logo"}),m("div",{class:"divide"}),m("h1",null,g.details.name))),m("div",{class:"links"},m("a",{href:"#",class:"design"===this.activeTab?"active":"",onclick:function(e){e.preventDefault(),t.switchTab("design")}},"Design"),m("a",{href:"#",class:"publish"===this.activeTab?"active":"",onclick:function(e){e.preventDefault(),t.switchTab("publish")}},"Publish")),m("div",{class:"cta"},"design"===this.activeTab&&m("[",null,y.isPro()&&m("button",{href:"#",onclick:function(e){e.preventDefault(),Qt.show=!0},class:"secondary"},"  Test Mail"),m(ut,{switchTab:this.switchTab.bind(this)})),"publish"===this.activeTab&&m("[",null,m("button",{href:"#",class:"secondary",onclick:function(e){e.preventDefault(),g.details.status=0,g.saveCamapign(g.details)}},"Save As Draft"),y.isPostCampaign(g.details.type)&&m("button",{href:"#",onclick:function(e){e.preventDefault(),g.details.status=1,g.saveCamapign()},class:"primary"},"Publish"),!y.isPostCampaign(g.details.type)&&m("button",{href:"#",onclick:function(e){e.preventDefault(),g.sendCamapign(g.details)},class:"primary"},"Send")))))),"design"===this.activeTab&&m(ft,null),"publish"===this.activeTab&&m(zt,null))}}])&&Xt(e.prototype,t),a&&Xt(e,a),Object.defineProperty(e,"prototype",{writable:!1}),i}();function $t(e){return($t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ea(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,function(e){e=function(e,t){if("object"!==$t(e)||null===e)return e;var a=e[Symbol.toPrimitive];if(void 0===a)return("string"===t?String:Number)(e);a=a.call(e,t||"default");if("object"!==$t(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}(e,"string");return"symbol"===$t(e)?e:String(e)}(n.key),n)}}var N=function(){function n(e){if(!(this instanceof n))throw new TypeError("Cannot call a class as a function");n.initialize()}var e,t,a;return e=n,a=[{key:"initialize",value:function(){n.setCurrentTemplate(n.currentCampaignID)}},{key:"setCurrentTemplate",value:function(t){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},a={},a=0<t?CampaignsModel.data.campaigns.filter(function(e){return e.id==t})[0]:e;n.details={id:a.id||0,subject:a.subject||"",body:a.body||"",meta:a.meta||{}}}},{key:"saveTemplate",value:function(){return n.formatCampaignDetail(),d.showLoader=!0,y.requestHandler({requestData:{method:"save",handler:"template",data:n.details},callback:function(e){d.showLoader=!1,e.success?(e.data.templateId&&(n.details.id=e.data.templateId||0),l.message=__("Template saved.","email-subscribers"),l.show=!0):alert(__("An error occured while processing the request","email-subscribers"))}})}},{key:"formatCampaignDetail",value:function(){n.syncEditorData()}},{key:"syncEditorData",value:function(){n.usingDndEditor()?n.addDnDEditorData():n.addClassicEditorData()}},{key:"addDnDEditorData",value:function(){n.addDnDContentData()}},{key:"addDnDContentData",value:function(){var e=esVisualEditor.exportEditorContent();n.details.body=e.html,n.details.meta.es_dnd_editor_data=e.data}},{key:"addClassicEditorData",value:function(){void 0!==window.tinyMCE&&window.tinyMCE.triggerSave();var e=document.getElementById("es-campaign-body").value;n.details.body=e}},{key:"usingDndEditor",value:function(){var e;return(null==(e=n.details)||null==(e=e.meta)?void 0:e.es_editor_type)&&n.details.meta.es_editor_type===ig_es_main_js_data.dnd_editor_slug}},{key:"getTemplate",value:function(e){var t=this;return y.requestHandler({requestData:{method:"get_template",handler:"template",data:{templateId:e}},callback:function(e){e.success&&(n.details=e.data||{}),t.showLoader=!1}})}},{key:"getPreview",value:function(e){return y.requestHandler({requestData:{method:"get_preview",handler:"campaign",data:n.details},callback:e})}}],(t=null)&&ea(e.prototype,t),a&&ea(e,a),Object.defineProperty(e,"prototype",{writable:!1}),n}();function ta(e){return(ta="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function aa(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,na(n.key),n)}}function na(e){e=function(e,t){if("object"!==ta(e)||null===e)return e;var a=e[Symbol.toPrimitive];if(void 0===a)return("string"===t?String:Number)(e);a=a.call(e,t||"default");if("object"!==ta(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}(e,"string");return"symbol"===ta(e)?e:String(e)}var ia=function(){function n(){var e,t,a;if(!(this instanceof n))throw new TypeError("Cannot call a class as a function");e=this,a="tags_tab",(t=na(t="activeTab"))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a}var e,t,a;return e=n,(t=[{key:"setActiveTab",value:function(e){this.activeTab=e}},{key:"view",value:function(){var e=this,t="tags_tab";return m("[",null,m("div",null,m("nav",null,m("div",{class:"links w-full text-center"},m("a",{onclick:function(){return e.setActiveTab(t)},class:"cursor-pointer ig-es-campaign-sidebar-nav-menu ig-es-campaign-tags-nav w-1/2 ".concat(this.activeTab===t?"active":"")},"Tags")))),m("div",{class:"nav-child-sections"},m("div",{id:"ig-es-campaign-tags-section",class:"nav-child"},m(Je,{campaignType:"newsletter"}))))}}])&&aa(e.prototype,t),a&&aa(e,a),Object.defineProperty(e,"prototype",{writable:!1}),n}();function ra(e){return(ra="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function la(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,function(e){e=function(e,t){if("object"!==ra(e)||null===e)return e;var a=e[Symbol.toPrimitive];if(void 0===a)return("string"===t?String:Number)(e);a=a.call(e,t||"default");if("object"!==ra(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}(e,"string");return"symbol"===ra(e)?e:String(e)}(n.key),n)}}var oa=function(){function t(e){e=e.attrs;if(!(this instanceof t))throw new TypeError("Cannot call a class as a function");this.initialize(e)}var e,a,n;return e=t,(a=[{key:"initialize",value:function(e){var t;this.model=new N,N.details.id||(0<(t=void 0!==e.templateId?e.templateId:0)?N.getTemplate(t):(e=this.getCampaignDefaultData(e),N.setCurrentTemplate(t,e)))}},{key:"switchEditor",value:function(){var e=N.details.meta.es_editor_type===ig_es_campaign_editor_data.dndEditor;N.details.meta.es_editor_type=e?ig_es_campaign_editor_data.classicEditor:ig_es_campaign_editor_data.dndEditor}},{key:"updateContent",value:function(e){N.details.body=e}},{key:"getCampaignDefaultData",value:function(e){var t=void 0!==e.campaignType?e.campaignType:ig_es_main_js_data.post_notification_campaign_type,e=void 0!==e.editorType?e.editorType:ig_es_main_js_data.dnd_editor_slug,a=e===ig_es_main_js_data.dnd_editor_slug,n=y.getCampaignDefaultSubject(t),i=y.getCampaignDefaultContent(t),n={subject:n,body:i[ig_es_main_js_data.classic_editor_slug],meta:{es_editor_type:e,es_template_type:t}};return a&&(n.meta.dnd_editor_data=i[ig_es_main_js_data.dnd_editor_slug]),n}},{key:"updateCustomCSS",value:function(e){void 0===N.details.meta&&(N.details.meta={}),N.details.meta.es_custom_css=e}},{key:"view",value:function(e){e.attrs;var e=N.details,t=e.meta.es_template_type,a=e.meta.es_editor_type===ig_es_campaign_editor_data.dndEditor,e=a?e.meta.es_dnd_editor_data:e.body;if(""!==e)return m("main",null,m("div",{class:"sticky top-0"},m("header",null,m("nav",{"aria-label":"Global"},m("div",{class:"brand-logo"},m("span",null,m("img",{src:ig_es_main_js_data.image_path+"lite/admin/images/new/brand-logo/IG LOGO 192X192.svg",alt:"brand logo"}),m("div",{class:"divide"}),m("h1",null,N.details.post_title))),m("div",{class:"links"},m("a",{href:"#"},"Template"),m("a",{href:"#",class:"active"},"Edit")),m("div",{class:"cta"},m("select",{value:t,onchange:function(e){N.details.meta.es_template_type=e.target.value,m.redraw()}},m("option",{value:"post_notification"},"Post Notification"),y.isPro()&&m("option",{value:"post_digest"},"Post Digest"),m("option",{value:"newsletter"},"Broadcast")),m("div",{class:"flex flex-col"},m("button",{id:"dropdownDefaultButton","data-dropdown-toggle":"dropdown",class:"primary text-white text-center inline-flex items-center",type:"button",onclick:function(){N.saveTemplate()}},m("span",null,"Save"))),m("button",{href:"#",class:"cross",onclick:function(e){m.route.set("/gallery",{manageTemplates:"yes"})}},m("svg",{class:"h-5",width:"30",height:"30",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},m("path",{d:"M5.04366 4.17217L7.49984 6.62835L9.94329 4.1849C9.99726 4.12745 10.0623 4.08149 10.1344 4.04978C10.2066 4.01807 10.2844 4.00127 10.3633 4.00037C10.532 4.00037 10.6939 4.06741 10.8132 4.18674C10.9325 4.30607 10.9996 4.46792 10.9996 4.63668C11.0011 4.71469 10.9866 4.79219 10.957 4.86441C10.9275 4.93663 10.8835 5.00204 10.8278 5.05665L8.3525 7.5001L10.8278 9.97537C10.9326 10.078 10.9941 10.2169 10.9996 10.3635C10.9996 10.5323 10.9325 10.6941 10.8132 10.8135C10.6939 10.9328 10.532 10.9998 10.3633 10.9998C10.2822 11.0032 10.2013 10.9897 10.1257 10.9601C10.0501 10.9305 9.98147 10.8855 9.9242 10.828L7.49984 8.37185L5.05002 10.8217C4.99626 10.8772 4.93203 10.9215 4.86104 10.9521C4.79005 10.9827 4.71371 10.9989 4.63642 10.9998C4.46766 10.9998 4.30581 10.9328 4.18648 10.8135C4.06714 10.6941 4.0001 10.5323 4.0001 10.3635C3.99862 10.2855 4.01309 10.208 4.04264 10.1358C4.07218 10.0636 4.11617 9.99816 4.17191 9.94355L6.64718 7.5001L4.17191 5.02483C4.06703 4.92223 4.00554 4.7833 4.0001 4.63668C4.0001 4.46792 4.06714 4.30607 4.18648 4.18674C4.30581 4.06741 4.46766 4.00037 4.63642 4.00037C4.78913 4.00228 4.93549 4.064 5.04366 4.17217Z",fill:"#575362"}))))))),d.showLoader?m(d,null):null,l.show?m(l,null):null,m("div",{class:"flex justify-between w-full overflow-hidden"},m("div",{id:"campaign-content",class:"template-editor dnd-editor"},m("div",{class:"flex flex-col gap-4"},m("div",null,m("label",{for:"Subject"},"Subject"),m("div",{class:"mt-2"},m("input",{type:"text",name:"subject",id:"subject",placeholder:"Subject line goes here {{post.title}}",value:N.details.subject||"",onchange:function(e){return N.details.subject=e.target.value}}))),m(mt,{campaignType:t})),m("div",{class:"template-preview w-full"},a?m(Se,{campaignType:t,content:e}):"",a?"":m(Ue,{campaignType:t,content:e,onRemove:this.updateContent}),a||"pro"!==ig_es_main_js_data.es_plan?"":m(lt,{customCSS:null==(e=N.details.meta)?void 0:e.es_custom_css,onChangeHandler:this.updateCustomCSS}))),m("div",{class:"sidebar"},m("div",{class:"switch"},m("p",null,"Switch To ",a?__("Classic Editor","email-subscribers"):__("Drag & Drop Editor","email-subscribers")," "),m("a",{class:"cursor-pointer",onclick:this.switchEditor},"Switch")),m("div",{class:"w-full"},a?m(H,{campaignType:t}):"",a?"":m(ia,{campaignType:t})))))}}])&&la(e.prototype,a),n&&la(e,n),Object.defineProperty(e,"prototype",{writable:!1}),t}(),e=(void 0!==wp.i18n?sa.g.__=wp.i18n.__:sa.g.__=function(e,t){return e},document.getElementById("ig-es-campaign-gallery-items-wrapper"),document.getElementById("ig-es-campaign-dashboard"));sa.g.canUpsellESTemplate=function(e,t){var a=!1;return"lite"===ig_es_main_js_data.es_plan||"trial"===ig_es_main_js_data.es_plan?a="starter"===e||"pro"===e:"starter"===ig_es_main_js_data.es_plan&&(a="pro"===e),"1.0.1"===t&&("lite"===ig_es_main_js_data.es_plan||"trial"===ig_es_main_js_data.es_plan?a="pro"===e||"max"===e:"starter"===ig_es_main_js_data.es_plan&&(a="max"===e)),a},m.route(e,"/campaigns",{"/campaigns":{view:function(e){return[m(Ce,e.attrs)]}},"/campaign/edit":{view:function(e){return[m(Kt,e.attrs)]}},"/campaign/edit/:campaignId":{view:function(e){return[m(Kt,e.attrs)]}},"/template/edit":{view:function(e){return[m(oa,e.attrs)]}},"/template/edit/:templateId":{view:function(e){return[m(oa,e.attrs)]}},"/gallery":{view:function(e){return e.attrs.campaignType=void 0!==e.attrs.campaignType?e.attrs.campaignType:ig_es_main_js_data.post_notification_campaign_type,e.attrs.campaignId=void 0!==e.attrs.campaignId?e.attrs.campaignId:0,e.attrs.manageTemplates=void 0!==e.attrs.manageTemplates?e.attrs.manageTemplates:"no",[m(P,e.attrs)]}}})}()}();